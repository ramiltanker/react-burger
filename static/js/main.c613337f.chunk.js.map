{"version":3,"sources":["pages/Feed/Feed.module.css","components/ConstructorBurgerCard/ConstructorBurgerCard.module.css","pages/Main/Main.module.css","components/AppHeader/AppHeader.module.css","components/ModalOverlay/ModalOverlay.module.css","pages/IngridientsIdPage/IngridientsIdPage.module.css","components/IngredientDetails/IngredientDetails.module.css","components/FeedOrderModal/FeedOrderModal.module.css","components/UserOrderModal/UserOrderModal.module.css","pages/FeedOrderPage/FeedOrderPage.module.css","pages/UserOrderPage/UserOrderPage.module.css","components/FeedCard/FeedCard.module.css","utils/constants.ts","utils/register.ts","utils/getUserData.ts","utils/login.ts","utils/tokenCheck.ts","utils/logout.ts","utils/forgotPassword.ts","utils/updateUser.ts","utils/reset-password.ts","utils/cookie.ts","services/actions/auth.ts","utils/IngridientsApi.ts","utils/SendingOrderApi.ts","services/actions/burgerIngridients.ts","components/AppHeader/AppHeader.tsx","types/typedHooks.ts","components/Card/Card.tsx","components/BurgerIngredients/BurgerIngredients.tsx","components/ConstructorBurgerCard/ConstructorBurgerCard.tsx","components/BurgerConstructor/BurgerConstructor.tsx","pages/Main/Main.tsx","components/IngredientDetails/IngredientDetails.tsx","images/done.png","components/OrderDetails/OrderDetails.tsx","components/ModalOverlay/ModalOverlay.tsx","components/Modal/Modal.tsx","customHooks/FormValidation/FormValidation.tsx","pages/SignIn/SignIn.tsx","pages/SignUp/SignUp.tsx","pages/RecoverPassword/RecoverPassword.tsx","pages/ResetPassword/ResetPassword.tsx","components/RouteBox/RouteBox.tsx","pages/Profile/Profile.tsx","components/OrderCard/OrderCard.tsx","services/actions/wsActions.ts","pages/Orders/Orders.tsx","components/FeedCard/FeedCard.tsx","pages/Feed/Feed.tsx","components/ProtectedRoute/ProtectedRoute.tsx","components/ProtectedAuthorized/ProtectedAuthorized.tsx","pages/IngridientsIdPage/IngridientsIdPage.tsx","pages/NotFoundPage/NotFoundPage.tsx","utils/getTimeAndDay.ts","components/FeedOrderModal/FeedOrderModal.tsx","components/UserOrderModal/UserOrderModal.tsx","pages/FeedOrderPage/FeedOrderPage.tsx","pages/UserOrderPage/UserOrderPage.tsx","services/middleware/SocketMiddleware.ts","components/App/App.tsx","reportWebVitals.ts","services/reducers/burgerIngridients.ts","services/reducers/auth.ts","services/reducers/feed.ts","services/reducers/userOrders.ts","services/reducers/index.ts","services/store.ts","services/middleware/socketMiddlewareAuth.ts","index.tsx","components/BurgerIngredients/BurgerIngredients.module.css","components/OrderCard/OrderCard.module.css","pages/SignIn/SignIn.module.css","pages/SignUp/SignUp.module.css","pages/ResetPassword/ResetPassword.module.css","components/RouteBox/RouteBox.module.css","pages/RecoverPassword/RecoverPassword.module.css","pages/Profile/Profile.module.css","components/OrderDetails/OrderDetails.module.css","components/BurgerConstructor/BurgerConstructor.module.css","components/Modal/Modal.module.css","components/Card/Card.module.css","pages/NotFoundPage/NotFoundPage.module.css","pages/Orders/Orders.module.css"],"names":["module","exports","WSS_NOMOREPARTIES","API_URL","register","name","email","password","fetch","method","headers","Accept","body","JSON","stringify","then","res","status","Promise","reject","message","ok","json","getUserData","token","Authorization","login","tokenCheck","refreshToken","logout","forgotPassword","updateUser","resetPassword","getCookie","matches","document","cookie","match","RegExp","replace","decodeURIComponent","undefined","setCookie","value","props","exp","path","expires","d","Date","setTime","getTime","toUTCString","updatedCookie","encodeURIComponent","propName","propValue","USER_REGISTRATION_REQUEST","USER_REGISTRATION_SUCCES","USER_REGISTRATION_FAILED","GET_USER_REQUEST","GET_USER_SUCCES","GET_USER_FAILED","USER_LOGIN_REQUEST","USER_LOGIN_SUCCES","USER_LOGIN_FAILED","USER_LOGOUT_REQUEST","USER_LOGOUT_SUCCES","USER_LOGOUT_FAILED","TOKEN_CHECK_REQUEST","TOKEN_CHECK_SUCCES","TOKEN_CHECK_FAILED","FORGOT_PASSWORD_REQUEST","FORGOT_PASSWORD_SUCCES","FORGOT_PASSWORD_FAILED","RESET_PASSWORD_REQUEST","RESET_PASSWORD_SUCCES","RESET_PASSWORD_FAILED","UPDATE_USER_REQUEST","UPDATE_USER_SUCCES","UPDATE_USER_FAILED","handleGetUserData","dispatch","type","success","user","catch","error","localStorage","getItem","nextFunc","accessToken","split","setItem","console","log","handleCheckToken","handleUserLogout","getInitialIngridients","postSendingOrderApi","ingredients","GET_BURGER_INGRIDIENTS_REQUEST","GET_BURGER_INGRIDIENTS_SUCCESS","GET_BURGER_INGRIDIENTS_FAILED","GET_BURGER_CONSTRUCTOR_REQUEST","GET_BURGER_CONSTRUCTOR_SUCCESS","GET_BURGER_CONSTRUCTOR_FAILED","GET_BURGER_CONSTRUCTOR_ADD_ITEM","GET_BURGER_CONSTRUCTOR_DELETE_ITEM","MOVE_CONSTRUCTOR_ITEM","POST_SEND_ORDER_REQUEST","POST_SEND_ORDER_SUCCESS","POST_SEND_ORDER_FAILED","COST_TOTAL_PRICE","DELETE_BURGER_CONSTRUCTOR_AFTER_ORDER","AppHeader","location","useLocation","isProfileActive","pathname","isFeedActive","isConstructor","className","headerStyles","header","container","nav","list","li","nav_link_contructor","link_active","nav_link_tape","to","state","from","id","profile_box","personal_account","useSelector","selectorHook","useDispatch","dispatchHook","Card","useHistory","store","burgerIngridients","burgerConstructorIngridients","bun","counters","React","useMemo","counter","forEach","ingredient","_id","useDrag","item","card","ing","collect","monitor","opacity","isDragging","ref","cardStyles","onClick","handleOpenIngridientsModal","style","background","count","image","src","alt","price_box","price","BurgerIngredients","burgerIngridientsArr","useState","current","setCurrent","buns","filter","main","sauces","useInView","threshold","bunsContainerRef","inViewBuns","saucesContainerRef","inViewSauces","fillingContainerRef","inViewFilling","useEffect","burgerIngredientsStyles","burger_ingridients","data-testid","title","tabs","active","parts_shell","parts_container","parts_title_no_margin","parts_box","map","parts_title","ConstructorBurgerCard","useRef","ingIndex","dragRef","useDrop","accept","hover","dragIndex","replacedIndex","hoverBoundingRect","getBoundingClientRect","hoverMiddleY","bottom","top","hoverClientY","getClientOffset","y","dropTarget","constructorBurgerStyles","box","isLocked","text","handleClose","close","thumbnail","BurgerConstructor","totalPrice","history","orderIngridients","setOrderIngridients","drop","ingType","moveBurgerConstructor","sortedIng","sortIngridients","content","index","deleteIngridient","ingridientsIds","ingridientsIdArr","push","burgerConstructorStyles","burger_constructor","first_card","elements_container","last_card","general_price","size","burgerConstructorIngridientsTypes","isSauce","indexOf","isMain","handleOpenOrderDetailsModal","order","err","sendOrder","Main","mainStyles","DndProvider","backend","HTML5Backend","IngredientDetails","inngredientDetailsStyles","ingridients","ingridientInfo","image_large","nutrients","nutrient","nutrient_title","nutrient_text","calories","proteins","fat","carbohydrates","OrderDetails","orderRequest","orderDetailsStyles","loading","number","done","notification","message_wait","ModalOverlay","modalOverlayStyles","overlay","closeModal","modalRoot","getElementById","Modal","handleCloseModal","this","isOpen","children","ReactDOM","createPortal","modalStyles","modal","modal_hidden","modal_wrapper","closeButton","Component","useFormWithValidation","values","setValues","errors","setErrors","isValid","setIsValid","isDirty","setIsDirty","isEmail","setIsEmail","re","resetForm","useCallback","newValues","newErrors","newIsValid","newIsDirty","newEmail","handleChange","event","target","validationMessage","checkValidity","test","String","toLowerCase","SignIn","authUser","handleUserLogin","e","preventDefault","emailValue","passwordValue","handleLogin","signInStyles","sign_in","form","onSubmit","fieldset","placeholder","onChange","signup_box","signup_text","link","recover_box","SignUp","nameInput","handleRegister","nameValue","handleRegistrationUser","signUpStyles","sign_up","RecoverPassword","forgotPasswordSucces","forgotPasswordHandler","handleForgotPassword","recoverPasswordStyles","recover","ResetPassword","resetPasswordSucces","code","resetPasswordHandler","codeValue","handleResetPassword","resetPasswordStyles","reset","RouteBox","isOrdersActive","routesStyles","route_box","Profile","isButtonsActive","setIsButtonsActive","setUser","handleUpdateUserData","handleUpdateUser","profileStyles","profile","onReset","handleResetChanges","icon","buttons","buttons_hide","OrderCard","todayDay","getDate","orderCardStyles","handleOpenOrderModal","time","day","burger_info","images_list","imagesArr","leftMove","image_li","left","WS_CONNECTION_START","WS_CONNECTION_SUCCESS","WS_CONNECTION_ERROR","WS_CONNECTION_CLOSED","WS_GET_MESSAGE","WS_AUTH_CONNECTION_START","WS_AUTH_CONNECTION_SUCCESS","WS_AUTH_CONNECTION_ERROR","WS_AUTH_CONNECTION_CLOSED","WS_AUTH_GET_MESSAGE","wsInit","wsAuthInit","Orders","ordersData","userOrders","orders","ordersStyles","handleGetIngImage","totalPriceArr","reduce","prev","cur","handleGetOrderPrice","createdTime","createdAt","FeedCard","imageArr","setImageArr","images","length","slice","feedCardStyles","handleOpenFeedModal","lastImage","image_number","image_number_none","Feed","feedData","feed","doneOrders","inProcessOrders","feedStyles","dayString","Number","parseInt","orderData","statistic","processes","done_list","done_li","in_work","in_work_list","in_work_li","done_all_time","total","done_today","totalToday","ProtectedRoute","rest","init","a","render","ProtectedAuthorized","isUser","IngridientsIdPage","currentIng","setCurrentIng","useParams","ingridient","ingridientsIdPageStyles","NotFoundPage","notFoundPageStyles","not_found","goBack","go_back","getTimeAndDay","obj","FeedOrderModal","setTotalPrice","filteredIngridients","setFilteredIngridients","returnObj","feedOrderData","uniqueArray","pos","info","structure","ingId","ing_name","UserOrderModal","userOrderData","FeedOrderPage","currentOrder","setCurrentOrder","ord","pageStyles","UserOrderPage","wsUrl","App","isIngridientModalOpen","setIsIngridientModalOpen","setIngridientInfo","isOrderDetailsOpen","setIsOrderDetailsOpen","setUserrderData","isProfileOrderModalOpen","setIsProfileOrderModalOpen","isFeedOrderModalOpen","setIsFeedOrderModalOpen","setFeedOrderData","data","backgroundPath","handleEscClose","key","addEventListener","removeEventListener","action","OrderDetailsModal","exact","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","initialState","burgerIngridientsRequest","burgerIngridientsFailed","burgerConstructorIngridientsFailed","burgerConstructorIngridientsRequest","orderFailed","registrationRequest","registratioFailded","loginRequest","loginFailed","loginSuccess","getUserRequest","getUserFailed","tokenRequest","tokenFailed","logoutRequest","logoutFailed","updateUserRequest","updateUserFailed","forgotPasswordRequest","forgotPasswordFailed","resetPasswordRequest","resetPasswordFailed","wsConnected","wsError","rootReducer","combineReducers","arr","dragItem","replacedItem","bunPrice","Object","keys","removeItem","payload","enhancer","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","applyMiddleware","socket","next","WebSocket","onopen","onerror","onmessage","parsedData","parse","restParsedData","onclose","send","socketMiddlewareAuth","thunk","createStore","StrictMode"],"mappings":"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","file":"static/js/main.c613337f.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"feed\":\"Feed_feed__yvEC5\",\"container\":\"Feed_container__1RF7a\",\"box\":\"Feed_box__22dvl\",\"orders\":\"Feed_orders__SQCtW\",\"statistic\":\"Feed_statistic__2lw-g\",\"processes\":\"Feed_processes__fE7sL\",\"done\":\"Feed_done__3BwyD\",\"done_list\":\"Feed_done_list__10zX7\",\"done_li\":\"Feed_done_li__ift8U\",\"in_work\":\"Feed_in_work__2rUlw Feed_done__3BwyD\",\"in_work_list\":\"Feed_in_work_list__1d72v Feed_done_list__10zX7\",\"done_all_time\":\"Feed_done_all_time__2oitg\",\"number\":\"Feed_number__36gV-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"box\":\"ConstructorBurgerCard_box__1mvjO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"Main_main__2DPGr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"AppHeader_header__3weDU\",\"container\":\"AppHeader_container__1Xy_O\",\"nav\":\"AppHeader_nav__3-5pE\",\"nav_link_contructor\":\"AppHeader_nav_link_contructor__3ircJ\",\"nav_link_tape\":\"AppHeader_nav_link_tape__NyYkZ AppHeader_nav_link_contructor__3ircJ\",\"personal_account\":\"AppHeader_personal_account__HV0LE AppHeader_nav_link_tape__NyYkZ AppHeader_nav_link_contructor__3ircJ\",\"list\":\"AppHeader_list__Jf3Ua\",\"li\":\"AppHeader_li__2R5bi\",\"link_active\":\"AppHeader_link_active__1eeXV\",\"profile_box\":\"AppHeader_profile_box__2tf45\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"ModalOverlay_overlay__1kT-P\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ingridients\":\"IngridientsIdPage_ingridients__296og\",\"container\":\"IngridientsIdPage_container__qV4Gf\",\"title\":\"IngridientsIdPage_title__10Om4\",\"nutrients\":\"IngridientsIdPage_nutrients__37NfI\",\"nutrient\":\"IngridientsIdPage_nutrient__1hX47\",\"nutrient_title\":\"IngridientsIdPage_nutrient_title__3OMhg\",\"nutrient_text\":\"IngridientsIdPage_nutrient_text__2aztQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ingridients\":\"IngredientDetails_ingridients__2uMsW\",\"container\":\"IngredientDetails_container__EBuzj\",\"title\":\"IngredientDetails_title__CO72W\",\"nutrients\":\"IngredientDetails_nutrients__3WO8Q\",\"nutrient\":\"IngredientDetails_nutrient__kPiYk\",\"nutrient_title\":\"IngredientDetails_nutrient_title__3CkZP\",\"nutrient_text\":\"IngredientDetails_nutrient_text__tcjp2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"FeedOrderModal_container__kzhQZ\",\"info\":\"FeedOrderModal_info__t33DV\",\"number\":\"FeedOrderModal_number__XjxT1\",\"name\":\"FeedOrderModal_name__3DN_j\",\"status\":\"FeedOrderModal_status__3t1G5\",\"list\":\"FeedOrderModal_list__1iJgY\",\"li\":\"FeedOrderModal_li__tRKP8\",\"image\":\"FeedOrderModal_image__lNmcz\",\"ing_name\":\"FeedOrderModal_ing_name__23rBM\",\"price_box\":\"FeedOrderModal_price_box__1TBax\",\"price\":\"FeedOrderModal_price__10Sp0\",\"box\":\"FeedOrderModal_box__3aCk5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"UserOrderModal_container__1cJaQ\",\"info\":\"UserOrderModal_info__1Xtye\",\"number\":\"UserOrderModal_number__2Gkxv\",\"name\":\"UserOrderModal_name__33BWL\",\"status\":\"UserOrderModal_status__2df8v\",\"list\":\"UserOrderModal_list__2fXBX\",\"li\":\"UserOrderModal_li__2xhOK\",\"image\":\"UserOrderModal_image__3gsaZ\",\"ing_name\":\"UserOrderModal_ing_name__5wcVJ\",\"price_box\":\"UserOrderModal_price_box__1YS8n\",\"price\":\"UserOrderModal_price__2wuAV\",\"box\":\"UserOrderModal_box__1e7xQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"FeedOrderPage_container__1CGH6\",\"info\":\"FeedOrderPage_info__2vxtf\",\"number\":\"FeedOrderPage_number__1_EIa\",\"name\":\"FeedOrderPage_name__6IPTk\",\"status\":\"FeedOrderPage_status__2YHbp\",\"list\":\"FeedOrderPage_list__yhy4Y\",\"li\":\"FeedOrderPage_li__1UbuP\",\"image\":\"FeedOrderPage_image__2LJpC\",\"ing_name\":\"FeedOrderPage_ing_name__3BZ9_\",\"price_box\":\"FeedOrderPage_price_box__2wLIV\",\"price\":\"FeedOrderPage_price__3iXKg\",\"box\":\"FeedOrderPage_box__s4-GE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"UserOrderPage_container__3yC-w\",\"info\":\"UserOrderPage_info__2kPxe\",\"number\":\"UserOrderPage_number__2daGk\",\"name\":\"UserOrderPage_name__3fNCI\",\"status\":\"UserOrderPage_status__UBk4A\",\"list\":\"UserOrderPage_list__1o34K\",\"li\":\"UserOrderPage_li__31MJD\",\"image\":\"UserOrderPage_image__17-JM\",\"ing_name\":\"UserOrderPage_ing_name__Tte2D\",\"price_box\":\"UserOrderPage_price_box__1h_06\",\"price\":\"UserOrderPage_price__H_88c\",\"box\":\"UserOrderPage_box__2QI01\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"FeedCard_card__2Apbv\",\"link\":\"FeedCard_link__1Ef9d\",\"box\":\"FeedCard_box__3CRYn\",\"burger_info\":\"FeedCard_burger_info__qxTte\",\"images_list\":\"FeedCard_images_list__3suFd\",\"image_li\":\"FeedCard_image_li___kJZn\",\"lastImage\":\"FeedCard_lastImage__2GoDr\",\"image\":\"FeedCard_image__1_IOl\",\"price_box\":\"FeedCard_price_box__1k9ie\",\"price\":\"FeedCard_price__1E9hU\",\"code\":\"FeedCard_code__136Y1\",\"time\":\"FeedCard_time__2SkCS\",\"name\":\"FeedCard_name__3lWFU\",\"image_number\":\"FeedCard_image_number__3Rari\",\"image_number_none\":\"FeedCard_image_number_none__2mfTz\"};","export const WSS_NOMOREPARTIES: \"wss://norma.nomoreparties.space\" =\n  \"wss://norma.nomoreparties.space\";\n\nexport const API_URL = \"https://norma.nomoreparties.space/api\";\n","import { API_URL } from \"./constants\";\n\nconst register = (name: string, email: string, password: string) => {\n  return fetch(`${API_URL}/auth/register`, {\n    method: \"POST\",\n    headers: {\n      Accept: \"application/json\",\n      \"Content-Type\": \"application/json\",\n    },\n    body: JSON.stringify({ name, email, password }),\n  })\n    .then((res) => {\n      if (res.status === 400) {\n        return Promise.reject({\n          message: \"Пользователь с таким email уже существует\",\n        });\n      }\n      if (res.status === 500) {\n        return Promise.reject({\n          message: \"При регистрации пользователя произошла ошибка\",\n        });\n      }\n      if (!res.ok) {\n        return Promise.reject(`Ошибка ${res.status}`);\n      }\n      return res.json();\n    })\n    .then((res) => {\n      return res;\n    });\n};\n\nexport default register;\n","import { API_URL } from \"./constants\";\n\nconst getUserData = (token?: string) => {\n  return fetch(`${API_URL}/auth/user`, {\n    method: \"GET\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n      Authorization: `Bearer ${token}`,\n    },\n  })\n    .then((res) => {\n      if (res.status === 403) {\n        return Promise.reject({ message: \"jwt expired\" });\n      }\n      return res.json();\n    })\n    .then((res) => {\n      return res;\n    });\n};\n\nexport default getUserData;\n","import { API_URL } from \"./constants\";\n\nconst login = (email: string, password: string) => {\n  return fetch(`${API_URL}/auth/login`, {\n    method: \"POST\",\n    headers: {\n      Accept: \"application/json\",\n      \"Content-Type\": \"application/json\",\n    },\n    body: JSON.stringify({ email, password }),\n  })\n    .then((res) => {\n      if (!res.ok) {\n        return Promise.reject(`Ошибка ${res.status}`);\n      }\n      return res.json();\n    })\n    .then((res) => {\n      return res;\n    });\n};\n\nexport default login;\n","import { API_URL } from \"./constants\";\n\nconst tokenCheck = (refreshToken: string | null) => {\n  return fetch(`${API_URL}/auth/token`, {\n    method: \"POST\",\n    headers: {\n      Accept: \"application/json\",\n      \"Content-Type\": \"application/json\",\n    },\n    body: JSON.stringify({ token: refreshToken }),\n  })\n    .then((res) => {\n      if (res.status === 401) {\n        return Promise.reject({ message: \"Token is invalid\" });\n      }\n      return res.json();\n    })\n    .then((res) => {\n      return res;\n    });\n};\n\nexport default tokenCheck;\n","import { API_URL } from \"./constants\";\n\nconst logout = (refreshToken: string) => {\n  return fetch(`${API_URL}/auth/logout`, {\n    method: \"POST\",\n    headers: {\n      Accept: \"application/json\",\n      \"Content-Type\": \"application/json\",\n    },\n    body: JSON.stringify({ token: refreshToken }),\n  })\n    .then((res) => {\n      if (!res.ok) {\n        return Promise.reject(`Ошибка ${res.status}`);\n      }\n      return res.json();\n    })\n    .then((res) => {\n      return res;\n    });\n};\n\nexport default logout;\n","import { API_URL } from \"./constants\";\n\nconst forgotPassword = (email: string) => {\n  return fetch(`${API_URL}/password-reset`, {\n    method: \"POST\",\n    headers: {\n      Accept: \"application/json\",\n      \"Content-Type\": \"application/json\",\n    },\n    body: JSON.stringify({ email: email }),\n  })\n    .then((res) => {\n      if (!res.ok) {\n        return Promise.reject(`Ошибка ${res.status}`);\n      }\n      return res.json();\n    })\n    .then((res) => {\n      return res;\n    });\n};\n\nexport default forgotPassword;\n","import { API_URL } from \"./constants\";\n\nconst updateUser = (token: string, email: string, name: string) => {\n  return fetch(`${API_URL}/auth/user`, {\n    method: \"PATCH\",\n    headers: {\n      Accept: \"application/json\",\n      \"Content-Type\": \"application/json\",\n      Authorization: `Bearer ${token}`,\n    },\n    body: JSON.stringify({ email: email, name: name }),\n  })\n    .then((res) => {\n      if (!res.ok) {\n        return Promise.reject(`Ошибка ${res.status}`);\n      }\n      return res.json();\n    })\n    .then((res) => {\n      return res;\n    });\n};\n\nexport default updateUser;\n","import { API_URL } from \"./constants\";\n\nconst resetPassword = (password: string, token: string) => {\n  return fetch(`${API_URL}/password-reset/reset`, {\n    method: \"POST\",\n    headers: {\n      Accept: \"application/json\",\n      \"Content-Type\": \"application/json\",\n    },\n    body: JSON.stringify({ password: password, token: token }),\n  })\n    .then((res) => {\n      if (!res.ok) {\n        return Promise.reject(`Ошибка ${res.status}`);\n      }\n      return res.json();\n    })\n    .then((res) => {\n      return res;\n    });\n};\n\nexport default resetPassword;\n","export function getCookie(name: string) {\n  const matches = document.cookie.match(\n    new RegExp(\n      \"(?:^|; )\" + name.replace(/([.$?*|{}()[]\\\\\\/\\+^])/g, \"\\\\$1\") + \"=([^;]*)\"\n    )\n  );\n  return matches ? decodeURIComponent(matches[1]) : undefined;\n}\n\nexport function setCookie(\n  name: string,\n  value: string | number | boolean,\n  props: any = {}\n) {\n  props = {\n    path: \"/\",\n    ...props,\n  };\n\n  // Переменная жизни куки\n  let exp = props.expires;\n\n  // Проверяем, что переменная с типом число и то, что она вообще существует\n  if (typeof exp == \"number\" && exp) {\n    // Получаем текущее время и дату с помощью\n    const d = new Date();\n    d.setTime(d.getTime() + exp * 1000);\n    exp = props.expires = d;\n  }\n\n  if (exp && exp.toUTCString) {\n    props.expires = exp.toUTCString();\n  }\n\n  value = encodeURIComponent(value);\n  let updatedCookie = name + \"=\" + value;\n  for (const propName in props) {\n    updatedCookie += \"; \" + propName;\n    const propValue = props[propName];\n    if (propValue !== true) {\n      updatedCookie += \"=\" + propValue;\n    }\n  }\n  document.cookie = updatedCookie;\n}\n\nexport function deleteCookie(name: string) {\n  setCookie(name, \"\", { expires: -1 });\n}\n","import register from \"../../utils/register\";\nimport getUserData from \"../../utils/getUserData\";\nimport login from \"../../utils/login\";\nimport tokenCheck from \"../../utils/tokenCheck\";\nimport logout from \"../../utils/logout\";\nimport forgotPassword from \"../../utils/forgotPassword\";\nimport updateUser from \"../../utils/updateUser\";\nimport resetPassword from \"../../utils/reset-password\";\n\nimport { getCookie, setCookie, deleteCookie } from \"../../utils/cookie\";\n\n// Типизация\nimport {\n  TUserRegistration,\n  TUserAuth,\n  TGetUserData,\n  TLogoutData,\n  TUpdateUserData,\n} from \"../../types/auth\";\nimport { Dispatch } from \"react\";\nimport { AppThunk } from \"../../types/index\";\n// Типизация\n\nexport const USER_REGISTRATION_REQUEST: \"USER_REGISTRATION_REQUEST\" =\n  \"USER_REGISTRATION_REQUEST\";\nexport const USER_REGISTRATION_SUCCES: \"USER_REGISTRATION_SUCCES\" =\n  \"USER_REGISTRATION_SUCCES\";\nexport const USER_REGISTRATION_FAILED: \"USER_REGISTRATION_FAILED\" =\n  \"USER_REGISTRATION_FAILED\";\n\nexport const GET_USER_REQUEST: \"GET_USER_REQUEST\" = \"GET_USER_REQUEST\";\nexport const GET_USER_SUCCES: \"GET_USER_SUCCES\" = \"GET_USER_SUCCES\";\nexport const GET_USER_FAILED: \"GET_USER_FAILED\" = \"GET_USER_FAILED\";\n\nexport const USER_LOGIN_REQUEST: \"USER_LOGIN_REQUEST\" = \"USER_LOGIN_REQUEST\";\nexport const USER_LOGIN_SUCCES: \"USER_LOGIN_SUCCES\" = \"USER_LOGIN_SUCCES\";\nexport const USER_LOGIN_FAILED: \"USER_LOGIN_FAILED\" = \"USER_LOGIN_FAILED\";\n\nexport const USER_LOGOUT_REQUEST: \"USER_LOGOUT_REQUEST\" = \"USER_LOGOUT_REQUEST\";\nexport const USER_LOGOUT_SUCCES: \"USER_LOGOUT_SUCCES\" = \"USER_LOGOUT_SUCCES\";\nexport const USER_LOGOUT_FAILED: \"USER_LOGOUT_FAILED\" = \"USER_LOGOUT_FAILED\";\n\nexport const TOKEN_CHECK_REQUEST: \"TOKEN_CHECK_REQUEST\" = \"TOKEN_CHECK_REQUEST\";\nexport const TOKEN_CHECK_SUCCES: \"TOKEN_CHECK_SUCCES\" = \"TOKEN_CHECK_SUCCES\";\nexport const TOKEN_CHECK_FAILED: \"TOKEN_CHECK_FAILED\" = \"TOKEN_CHECK_FAILED\";\n\nexport const FORGOT_PASSWORD_REQUEST: \"FORGOT_PASSWORD_REQUEST\" =\n  \"FORGOT_PASSWORD_REQUEST\";\nexport const FORGOT_PASSWORD_SUCCES: \"FORGOT_PASSWORD_SUCCES\" =\n  \"FORGOT_PASSWORD_SUCCES\";\nexport const FORGOT_PASSWORD_FAILED: \"FORGOT_PASSWORD_FAILED\" =\n  \"FORGOT_PASSWORD_FAILED\";\n\nexport const RESET_PASSWORD_REQUEST: \"RESET_PASSWORD_REQUEST\" =\n  \"RESET_PASSWORD_REQUEST\";\nexport const RESET_PASSWORD_SUCCES: \"RESET_PASSWORD_SUCCES\" =\n  \"RESET_PASSWORD_SUCCES\";\nexport const RESET_PASSWORD_FAILED: \"RESET_PASSWORD_FAILED\" =\n  \"RESET_PASSWORD_FAILED\";\n\nexport const UPDATE_USER_REQUEST: \"UPDATE_USER_REQUEST\" = \"UPDATE_USER_REQUEST\";\nexport const UPDATE_USER_SUCCES: \"UPDATE_USER_SUCCES\" = \"UPDATE_USER_SUCCES\";\nexport const UPDATE_USER_FAILED: \"UPDATE_USER_FAILED\" = \"UPDATE_USER_FAILED\";\n\n// Типы для экшена регистрации\nexport interface IUserRegistrationRequestAction {\n  readonly type: typeof USER_REGISTRATION_REQUEST;\n}\n\nexport interface IUserRegistrationSuccesAction {\n  readonly type: typeof USER_REGISTRATION_SUCCES;\n  readonly user: TUserRegistration;\n  readonly refreshToken: string;\n}\n\nexport interface IUserRegistrationFailedAction {\n  readonly type: typeof USER_REGISTRATION_FAILED;\n}\n\n// Типы для экшена получения данных пользователя\nexport interface IGetUserRequestAction {\n  readonly type: typeof GET_USER_REQUEST;\n}\n\nexport interface IGetUserSuccesAction {\n  readonly type: typeof GET_USER_SUCCES;\n  readonly user: TGetUserData;\n}\n\nexport interface IGetUserFailedAction {\n  readonly type: typeof GET_USER_FAILED;\n}\n\n// Типы для входа в систему\nexport interface IUserLoginRequestAction {\n  readonly type: typeof USER_LOGIN_REQUEST;\n}\n\nexport interface IUserLoginSuccesAction {\n  readonly type: typeof USER_LOGIN_SUCCES;\n  readonly user: TUserAuth;\n}\n\nexport interface IUserLoginFailedAction {\n  readonly type: typeof USER_LOGIN_FAILED;\n}\n\n// Типы для экшена выхода из системы\nexport interface IUserLogoutRequestAction {\n  readonly type: typeof USER_LOGOUT_REQUEST;\n}\n\nexport interface IUserLogoutSuccesAction {\n  readonly type: typeof USER_LOGOUT_SUCCES;\n}\n\nexport interface IUserLogoutFailedAction {\n  readonly type: typeof USER_LOGOUT_FAILED;\n}\n\n// Типы для экшена токена\nexport interface ITokenCheckRequestAction {\n  readonly type: typeof TOKEN_CHECK_REQUEST;\n}\n\nexport interface ITokenCheckSuccesAction {\n  readonly type: typeof TOKEN_CHECK_SUCCES;\n}\n\nexport interface ITokenCheckFailedAction {\n  readonly type: typeof TOKEN_CHECK_FAILED;\n}\n\n// Типы для экшена \"забыл пароль\"\nexport interface IForgotPasswordRequestAction {\n  readonly type: typeof FORGOT_PASSWORD_REQUEST;\n}\n\nexport interface IForgotPasswordSuccesAction {\n  readonly type: typeof FORGOT_PASSWORD_SUCCES;\n}\n\nexport interface IForgotPasswordFailedAction {\n  readonly type: typeof FORGOT_PASSWORD_FAILED;\n}\n\n// Типы для экшена сбросить пароль\nexport interface IResetPasswordRequestAction {\n  readonly type: typeof RESET_PASSWORD_REQUEST;\n}\n\nexport interface IResetPasswordSuccesAction {\n  readonly type: typeof RESET_PASSWORD_SUCCES;\n}\n\nexport interface IResetPasswordFailedAction {\n  readonly type: typeof RESET_PASSWORD_FAILED;\n}\n\n// Типы для экшена обновить данные пользователя\nexport interface IUpdateUserRequestAction {\n  readonly type: typeof UPDATE_USER_REQUEST;\n}\n\nexport interface IUpdateUserSuccesAction {\n  readonly type: typeof UPDATE_USER_SUCCES;\n  readonly user: TUpdateUserData;\n}\n\nexport interface IUpdateUserFailedAction {\n  readonly type: typeof UPDATE_USER_FAILED;\n}\n\n// Union тип\nexport type TAuthActions =\n  | IUserRegistrationRequestAction\n  | IUserRegistrationSuccesAction\n  | IUserRegistrationFailedAction\n  | IGetUserRequestAction\n  | IGetUserSuccesAction\n  | IGetUserFailedAction\n  | IUserLoginRequestAction\n  | IUserLoginSuccesAction\n  | IUserLoginFailedAction\n  | IUserLogoutRequestAction\n  | IUserLogoutSuccesAction\n  | IUserLogoutFailedAction\n  | ITokenCheckRequestAction\n  | ITokenCheckSuccesAction\n  | ITokenCheckFailedAction\n  | IForgotPasswordRequestAction\n  | IForgotPasswordSuccesAction\n  | IForgotPasswordFailedAction\n  | IResetPasswordRequestAction\n  | IResetPasswordSuccesAction\n  | IResetPasswordFailedAction\n  | IUpdateUserRequestAction\n  | IUpdateUserSuccesAction\n  | IUpdateUserFailedAction;\n// Union тип\n\nexport const handleRegistrationUser: AppThunk = (\n  name: string,\n  email: string,\n  password: string\n) => {\n  return function (dispatch) {\n    dispatch({\n      type: USER_REGISTRATION_REQUEST,\n    });\n    register(name, email, password)\n      .then((res) => {\n        if (res && res.success) {\n          setCookie(\"accessToken\", res.accessToken.split(\"Bearer \")[1], {});\n          dispatch({\n            type: USER_REGISTRATION_SUCCES,\n            user: res.user,\n            refreshToken: res.refreshToken,\n          });\n        } else {\n          dispatch({\n            type: USER_REGISTRATION_FAILED,\n          });\n        }\n      })\n      .catch((error) => {\n        dispatch({\n          type: USER_REGISTRATION_FAILED,\n        });\n        console.log(error);\n      });\n  };\n};\n\nexport const handleLogin: AppThunk = (email: string, password: string) => {\n  return function (dispatch) {\n    dispatch({\n      type: USER_LOGIN_REQUEST,\n    });\n    login(email, password)\n      .then((res) => {\n        if (res && res.success) {\n          localStorage.setItem(\"refreshToken\", res.refreshToken);\n          setCookie(\"accessToken\", res.accessToken.split(\"Bearer \")[1], {});\n          dispatch({\n            type: USER_LOGIN_SUCCES,\n            user: res.user,\n          });\n        } else {\n          dispatch({\n            type: USER_LOGIN_FAILED,\n          });\n        }\n      })\n      .catch((error) => {\n        dispatch({\n          type: USER_LOGIN_FAILED,\n        });\n        console.log(error);\n      });\n  };\n};\n\nexport const handleCheckToken: AppThunk = (\n  refreshToken: string,\n  nextFunc: () => void\n) => {\n  return function (dispatch) {\n    dispatch({\n      type: TOKEN_CHECK_REQUEST,\n    });\n    tokenCheck(refreshToken)\n      .then((res) => {\n        if (res && res.success) {\n          setCookie(\"accessToken\", res.accessToken.split(\"Bearer \")[1], {});\n          localStorage.setItem(\"refreshToken\", res.refreshToken);\n          nextFunc();\n          dispatch({\n            type: TOKEN_CHECK_SUCCES,\n          });\n        } else {\n          dispatch({\n            type: TOKEN_CHECK_FAILED,\n          });\n        }\n      })\n      .catch((error) => {\n        dispatch({\n          type: TOKEN_CHECK_FAILED,\n        });\n        console.log(error);\n      });\n  };\n};\n\nexport const handleGetUserData: AppThunk = () => {\n  const token = getCookie(\"accessToken\");\n  return function (dispatch) {\n    dispatch({\n      type: GET_USER_REQUEST,\n    });\n    getUserData(token)\n      .then((res) => {\n        if (res && res.success) {\n          dispatch({\n            type: GET_USER_SUCCES,\n            user: res.user,\n          });\n        } else {\n          dispatch({\n            type: GET_USER_FAILED,\n          });\n        }\n      })\n      .catch((error) => {\n        dispatch({\n          type: GET_USER_FAILED,\n        });\n        if (error.message === \"jwt expired\") {\n          const refreshToken = localStorage.getItem(\"refreshToken\");\n          if (refreshToken)\n            dispatch(handleCheckToken(refreshToken, handleGetUserData));\n        }\n        console.log(error);\n      });\n  };\n};\n\nexport const handleUserLogout: AppThunk = (refreshToken: string) => {\n  return function (dispatch) {\n    dispatch({\n      type: USER_LOGOUT_REQUEST,\n    });\n    logout(refreshToken)\n      .then((res) => {\n        if (res && res.success) {\n          deleteCookie(\"accessToken\");\n          dispatch({ type: USER_LOGOUT_SUCCES });\n        } else {\n          dispatch({\n            type: TOKEN_CHECK_FAILED,\n          });\n        }\n      })\n      .catch((error) => {\n        dispatch({\n          type: TOKEN_CHECK_FAILED,\n        });\n        console.log(error);\n      });\n  };\n};\n\nexport const handleUpdateUser: AppThunk = (\n  token: string,\n  email: string,\n  name: string\n) => {\n  return function (dispatch) {\n    dispatch({ type: UPDATE_USER_REQUEST });\n    updateUser(token, email, name)\n      .then((res) => {\n        if (res && res.success) {\n          dispatch({ type: UPDATE_USER_SUCCES, user: res.user });\n        } else {\n          dispatch({ type: UPDATE_USER_FAILED });\n        }\n      })\n      .catch((err) => {\n        dispatch({ type: UPDATE_USER_FAILED });\n        console.log(err);\n      });\n  };\n};\n\nexport const handleForgotPassword: AppThunk = (email: string) => {\n  return function (dispatch) {\n    dispatch({ type: FORGOT_PASSWORD_REQUEST });\n    forgotPassword(email)\n      .then((res) => {\n        if (res && res.success) {\n          dispatch({ type: FORGOT_PASSWORD_SUCCES });\n        } else {\n          dispatch({ type: FORGOT_PASSWORD_FAILED });\n        }\n      })\n      .catch((err) => {\n        dispatch({ type: FORGOT_PASSWORD_FAILED });\n        console.log(err);\n      });\n  };\n};\n\nexport const handleResetPassword: AppThunk = (\n  password: string,\n  token: string\n) => {\n  return function (dispatch) {\n    dispatch({ type: RESET_PASSWORD_REQUEST });\n    resetPassword(password, token)\n      .then((res) => {\n        if (res && res.success) {\n          dispatch({ type: RESET_PASSWORD_SUCCES });\n        } else {\n          dispatch({ type: RESET_PASSWORD_FAILED });\n        }\n      })\n      .catch((err) => {\n        dispatch({ type: RESET_PASSWORD_FAILED });\n        console.log(err);\n      });\n  };\n};\n","import { API_URL } from \"./constants\";\n\nconst getInitialIngridients = () => {\n  return fetch(`${API_URL}/ingredients`, {\n    method: \"GET\",\n    headers: {\n      Accept: \"application/json\",\n      \"Content-Type\": \"application/json\",\n    },\n  })\n    .then((res) => {\n      if (res.ok) {\n        return res.json();\n      }\n      return Promise.reject(`Ошибка: ${res.status}`);\n    })\n    .then((res) => {\n      return res;\n    });\n};\n\nexport default getInitialIngridients;\n","import { TBurgerIngridientsArrayOfId } from \"../types/burgerIngridients\";\nimport { API_URL } from \"./constants\";\n\nconst postSendingOrderApi = (\n  ingredients: TBurgerIngridientsArrayOfId,\n  token?: string\n) => {\n  return fetch(`${API_URL}/orders`, {\n    method: \"POST\",\n    headers: {\n      Accept: \"application/json\",\n      \"Content-Type\": \"application/json\",\n      Authorization: `Bearer ${token}`,\n    },\n    body: JSON.stringify({\n      ingredients,\n    }),\n  })\n    .then((res) => {\n      if (res.ok) {\n        return res.json();\n      }\n      return Promise.reject(`Ошибка: ${res.status}`);\n    })\n    .then((res) => {\n      return res;\n    });\n};\n\nexport default postSendingOrderApi;\n","import getInitialIngridients from \"../../utils/IngridientsApi\";\nimport postSendingOrderApi from \"../../utils/SendingOrderApi\";\n\n// Types\nimport {\n  TBurgerIngridientsArrayOfId,\n  TBurgerIngridients,\n  TBurgerIngridientsOrder,\n  TIngridient,\n} from \"../../types/burgerIngridients\";\nimport { AppThunk } from \"../../types/index\";\n// Types\n\nexport const GET_BURGER_INGRIDIENTS_REQUEST: \"GET_BURGER_INGRIDIENTS_REQUEST\" =\n  \"GET_BURGER_INGRIDIENTS_REQUEST\";\nexport const GET_BURGER_INGRIDIENTS_SUCCESS: \"GET_BURGER_INGRIDIENTS_SUCCESS\" =\n  \"GET_BURGER_INGRIDIENTS_SUCCESS\";\nexport const GET_BURGER_INGRIDIENTS_FAILED: \"GET_BURGER_INGRIDIENTS_FAILED\" =\n  \"GET_BURGER_INGRIDIENTS_FAILED\";\n\nexport const GET_BURGER_CONSTRUCTOR_REQUEST: \"GET_BURGER_CONSTRUCTOR_REQUEST\" =\n  \"GET_BURGER_CONSTRUCTOR_REQUEST\";\nexport const GET_BURGER_CONSTRUCTOR_SUCCESS: \"GET_BURGER_CONSTRUCTOR_SUCCESS\" =\n  \"GET_BURGER_CONSTRUCTOR_SUCCESS\";\nexport const GET_BURGER_CONSTRUCTOR_FAILED: \"GET_BURGER_CONSTRUCTOR_FAILED\" =\n  \"GET_BURGER_CONSTRUCTOR_FAILED\";\n\nexport const GET_BURGER_CONSTRUCTOR_ADD_ITEM: \"GET_BURGER_CONSTRUCTOR_ADD_ITEM\" =\n  \"GET_BURGER_CONSTRUCTOR_ADD_ITEM\";\nexport const GET_BURGER_CONSTRUCTOR_DELETE_ITEM: \"GET_BURGER_CONSTRUCTOR_DELETE_ITEM\" =\n  \"GET_BURGER_CONSTRUCTOR_DELETE_ITEM\";\n\nexport const INCREASE_ITEM: \"INCREASE_ITEM\" = \"INCREASE_ITEM\";\n\nexport const MOVE_CONSTRUCTOR_ITEM: \"MOVE_CONSTRUCTOR_ITEM\" =\n  \"MOVE_CONSTRUCTOR_ITEM\";\n\nexport const POST_SEND_ORDER_REQUEST: \"POST_SEND_ORDER_REQUEST\" =\n  \"POST_SEND_ORDER_REQUEST\";\nexport const POST_SEND_ORDER_SUCCESS: \"POST_SEND_ORDER_SUCCESS\" =\n  \"POST_SEND_ORDER_SUCCESS\";\nexport const POST_SEND_ORDER_FAILED: \"POST_SEND_ORDER_FAILED\" =\n  \"POST_SEND_ORDER_FAILED\";\n\nexport const COST_TOTAL_PRICE: \"COST_TOTAL_PRICE\" = \"COST_TOTAL_PRICE\";\n\nexport const DELETE_BURGER_CONSTRUCTOR_AFTER_ORDER: \"DELETE_BURGER_CONSTRUCTOR_AFTER_ORDER\" =\n  \"DELETE_BURGER_CONSTRUCTOR_AFTER_ORDER\";\n\nexport interface IGetBurgerIngridientsRequestAction {\n  readonly type: typeof GET_BURGER_INGRIDIENTS_REQUEST;\n}\n\nexport interface IGetBurgerIngridientsSuccessAction {\n  readonly type: typeof GET_BURGER_INGRIDIENTS_SUCCESS;\n  readonly burgerIngridientsArr: TBurgerIngridients;\n}\n\nexport interface IGetBurgerIngridientsFailedAction {\n  readonly type: typeof GET_BURGER_INGRIDIENTS_FAILED;\n}\n\nexport interface IGetBurgerConstructorRequestAction {\n  readonly type: typeof GET_BURGER_CONSTRUCTOR_REQUEST;\n}\n\nexport interface IGetBurgerConstructorSuccessAction {\n  readonly type: typeof GET_BURGER_CONSTRUCTOR_SUCCESS;\n  burgerConstructorIngridients: Array<TIngridient>;\n}\n\nexport interface IGetBurgerConstructorFailedAction {\n  readonly type: typeof GET_BURGER_CONSTRUCTOR_FAILED;\n}\n\nexport interface IGetBurgerConstructorAddItemAction {\n  readonly type: typeof GET_BURGER_CONSTRUCTOR_ADD_ITEM;\n  readonly ingType: string;\n\n  readonly item: TIngridient;\n  readonly id: string;\n}\n\nexport interface IGetBurgerConstructorDeleteItemAction {\n  readonly type: typeof GET_BURGER_CONSTRUCTOR_DELETE_ITEM;\n  readonly ingType: string;\n  readonly id: string;\n  readonly ingIndex: number;\n}\n\nexport interface IIncreaseItemAction {\n  readonly type: typeof INCREASE_ITEM;\n}\n\nexport interface IMoveConstructorItemAction {\n  readonly type: typeof MOVE_CONSTRUCTOR_ITEM;\n  readonly dragIndex: number;\n  readonly replacedIndex: number;\n}\n\nexport interface IPostSendOrderRequestAction {\n  readonly type: typeof POST_SEND_ORDER_REQUEST;\n}\n\nexport interface IPostSendOrderSuccessAction {\n  readonly type: typeof POST_SEND_ORDER_SUCCESS;\n  readonly order: TBurgerIngridientsOrder;\n}\n\nexport interface IPostSendOrderFailedAction {\n  readonly type: typeof POST_SEND_ORDER_FAILED;\n}\n\nexport interface ICostTotalPriceAction {\n  readonly type: typeof COST_TOTAL_PRICE;\n}\n\nexport interface IDeleteBurgerConstructorAfterOrderAction {\n  readonly type: typeof DELETE_BURGER_CONSTRUCTOR_AFTER_ORDER;\n}\n\n// Union тип\nexport type TburgerIngridientsActions =\n  | IGetBurgerIngridientsRequestAction\n  | IGetBurgerIngridientsSuccessAction\n  | IGetBurgerIngridientsFailedAction\n  | IGetBurgerConstructorRequestAction\n  | IGetBurgerConstructorSuccessAction\n  | IGetBurgerConstructorFailedAction\n  | IGetBurgerConstructorAddItemAction\n  | IGetBurgerConstructorDeleteItemAction\n  | IIncreaseItemAction\n  | IMoveConstructorItemAction\n  | IPostSendOrderRequestAction\n  | IPostSendOrderSuccessAction\n  | IPostSendOrderFailedAction\n  | ICostTotalPriceAction\n  | IDeleteBurgerConstructorAfterOrderAction;\n// Union тип\n\nexport const getIngridients: AppThunk = () => {\n  return function (dispatch) {\n    dispatch({\n      type: GET_BURGER_INGRIDIENTS_REQUEST,\n    });\n    getInitialIngridients()\n      .then((res) => {\n        if (res && res.success) {\n          dispatch({\n            type: GET_BURGER_INGRIDIENTS_SUCCESS,\n            burgerIngridientsArr: res.data,\n          });\n        } else {\n          dispatch({\n            type: GET_BURGER_INGRIDIENTS_FAILED,\n          });\n        }\n      })\n      .catch((err) => {\n        if (err.status === 400) {\n          console.log({ error: err });\n        }\n      });\n  };\n};\n\nexport const sendOrder: AppThunk = (\n  burgerConstructorIngridients: TBurgerIngridientsArrayOfId,\n  token: string | undefined\n) => {\n  return function (dispatch) {\n    dispatch({\n      type: POST_SEND_ORDER_REQUEST,\n    });\n    postSendingOrderApi(burgerConstructorIngridients, token)\n      .then((res) => {\n        if (res && res.success) {\n          dispatch({\n            type: POST_SEND_ORDER_SUCCESS,\n            order: res,\n          });\n        } else {\n          dispatch({\n            type: GET_BURGER_INGRIDIENTS_FAILED,\n          });\n        }\n      })\n      .catch((err) => {\n        dispatch({ type: POST_SEND_ORDER_FAILED });\n        if (err.status === 400) {\n          console.log({ error: err });\n        }\n      });\n  };\n};\n","import React, { FunctionComponent } from \"react\";\nimport { Link, useLocation } from \"react-router-dom\";\n\n// Стили\nimport headerStyles from \"./AppHeader.module.css\";\n// Стили\n\n// Библиотека UI-компонентов\nimport {\n  Logo,\n  BurgerIcon,\n  ListIcon,\n  ProfileIcon,\n} from \"@ya.praktikum/react-developer-burger-ui-components\";\n// Библиотека UI-компонентов\n\n// Types\nimport { TLocation } from \"../../types\";\n// Types\n\ntype FC<P = {}> = FunctionComponent<P>;\n\nconst AppHeader: FC<{}> = () => {\n  const location = useLocation<TLocation>();\n\n  const isProfileActive: boolean = location.pathname === \"/profile\";\n  const isFeedActive: boolean = location.pathname === \"/feed\";\n  const isConstructor: boolean = location.pathname === \"/\";\n\n  return (\n    <header className={headerStyles.header}>\n      <div className={`${headerStyles.container} mt-8 mb-8`}>\n        <nav className={headerStyles.nav}>\n          <ul className={headerStyles.list}>\n            <li className={headerStyles.li}>\n              <Link\n                className={`${headerStyles.nav_link_contructor} ${\n                  headerStyles.li\n                } ${\n                  isConstructor\n                    ? headerStyles.link_active\n                    : headerStyles.nav_link_tape\n                } text_type_main-default mr-15`}\n                to={{ pathname: `/`, state: { from: location } }}\n                id=\"constructor\"\n              >\n                Конструктор\n                <BurgerIcon type={isConstructor ? \"secondary\" : \"primary\"} />\n              </Link>\n            </li>\n            <li className={headerStyles.li}>\n              <Link\n                className={`${headerStyles.nav_link_tape} ${headerStyles.li} ${\n                  isFeedActive\n                    ? headerStyles.link_active\n                    : headerStyles.nav_link_tape\n                } text_type_main-default mr-15`}\n                to={{ pathname: `/feed`, state: { from: location } }}\n                id=\"tape\"\n              >\n                Лента заказов\n                <ListIcon type={isFeedActive ? \"secondary\" : \"primary\"} />\n              </Link>\n            </li>\n          </ul>\n        </nav>\n        <Logo />\n        <div className={headerStyles.profile_box}>\n          <Link\n            className={`${headerStyles.personal_account} ${headerStyles.li} ${\n              isProfileActive\n                ? headerStyles.link_active\n                : headerStyles.personal_account\n            } text_type_main-default`}\n            to={{ pathname: `/profile`, state: { from: location } }}\n            id=\"profile\"\n          >\n            Личный кабинет\n            <ProfileIcon type={isProfileActive ? \"secondary\" : \"primary\"} />\n          </Link>\n        </div>\n      </div>\n    </header>\n  );\n};\n\nexport default AppHeader;\n","import {\n  TypedUseSelectorHook,\n  useSelector as selectorHook,\n  useDispatch as dispatchHook,\n} from \"react-redux\";\nimport { RootState, AppThunk, AppDispatch } from \"./index\";\n\n// Теперь этот хук «знает» структуру хранилища\nexport const useSelector: TypedUseSelectorHook<RootState> = selectorHook;\n// Хук не даст отправить экшен, который ему не знаком\nexport const useDispatch = () => dispatchHook<AppDispatch | AppThunk>();\n","import React, { FunctionComponent } from \"react\";\n\n// Стили\nimport cardStyles from \"./Card.module.css\";\n// Стили\n\nimport { Link, useLocation, useHistory } from \"react-router-dom\";\n\n// redux\nimport { useDispatch } from \"react-redux\";\n// redux\n\n// Библиотека UI-компонентов\nimport {\n  Counter,\n  CurrencyIcon,\n} from \"@ya.praktikum/react-developer-burger-ui-components\";\n// Библиотека UI-компонентов\n\n// DND\nimport { useDrag } from \"react-dnd\";\n// DND\n\n// Types\nimport { TIngridient } from \"../../types/burgerIngridients\";\n\nimport { TCounter } from \"../../types\";\n\nimport { useSelector } from \"../../types/typedHooks\";\n// Types\n\ninterface ICardProps {\n  card: TIngridient;\n  key: string;\n  handleOpenIngridientsModal: (item: TIngridient) => void;\n}\n\ntype FC<P = ICardProps> = FunctionComponent<P>;\n\nconst Card: FC<ICardProps> = (props) => {\n  const location = useLocation();\n  const history = useHistory();\n\n  const { burgerConstructorIngridients, bun } = useSelector(\n    (store) => store.burgerIngridients\n  );\n\n  const counters = React.useMemo(() => {\n    const counter: TCounter = {};\n\n    burgerConstructorIngridients.forEach((ingredient: TIngridient) => {\n      if (!counter[ingredient._id!]) counter[ingredient._id!] = 0;\n      counter[ingredient._id!]++;\n    });\n    if (bun) counter[bun._id!] = 2;\n    return counter;\n  }, [burgerConstructorIngridients, bun]);\n\n  function handleOpenIngridientsModal() {\n    props.handleOpenIngridientsModal(props.card);\n  }\n\n  // DND\n  const [{ opacity }, ref] = useDrag({\n    type: \"ingridients\",\n    item: { _id: props.card._id, type: props.card.type, ing: props.card },\n    collect: (monitor) => ({\n      opacity: monitor.isDragging() ? 0.5 : 1,\n    }),\n  });\n  // DND\n  return (\n    <Link\n      className={cardStyles.card}\n      onClick={handleOpenIngridientsModal}\n      ref={ref}\n      style={{ opacity: opacity }}\n      to={{\n        pathname: `/ingridients/${props.card._id}`,\n        state: { background: location },\n      }}\n    >\n      <Counter count={counters[props.card._id!]} />\n      <img\n        className={cardStyles.image}\n        src={props.card.image}\n        alt={props.card.name}\n      />\n      <div className={cardStyles.price_box}>\n        <p className={cardStyles.price}>{props.card.price}</p>\n        <CurrencyIcon type=\"primary\" />\n      </div>\n      <p className={cardStyles.name}>{props.card.name}</p>\n    </Link>\n  );\n};\n\nexport default Card;\n","import React, { FunctionComponent } from \"react\";\n\n// Стили\nimport burgerIngredientsStyles from \"./BurgerIngredients.module.css\";\n// Стили\n\n// Библиотека UI-компонентов\nimport {\n  Tab,\n  Counter,\n} from \"@ya.praktikum/react-developer-burger-ui-components\";\n// Библиотека UI-компонентов\n\n// DND\nimport { useDrag } from \"react-dnd\";\n// DND\n\n// Компоненты\nimport Card from \"../Card/Card\";\n// Компоненты\n\n// Types\nimport { TIngridient } from \"../../types/burgerIngridients\";\n\nimport { useDispatch, useSelector } from \"../../types/typedHooks\";\n// Types\n\nimport { useInView } from \"react-intersection-observer\";\n\ninterface IBurgerIngridientsProps {\n  handleOpenIngridientsModal: (item: TIngridient) => void;\n}\n\ntype FC<P = IBurgerIngridientsProps> = FunctionComponent<P>;\n\nconst BurgerIngredients: FC<IBurgerIngridientsProps> = (props) => {\n  // Массив ингридиентов\n  const { burgerIngridientsArr } = useSelector(\n    (state) => state.burgerIngridients\n  );\n  // Массив ингридиентов\n\n  // Функция для проброса экшенов\n  const dispatch = useDispatch();\n  // Функция для проброса экшенов\n\n  // Состояние Tab\n  const [current, setCurrent] = React.useState<string>(\"buns\");\n  // Состояние Tab\n\n  const buns = burgerIngridientsArr.filter((item) => item.type === \"bun\");\n  const main = burgerIngridientsArr.filter((item) => item.type === \"main\");\n  const sauces = burgerIngridientsArr.filter((item) => item.type === \"sauce\");\n\n  const [bunsContainerRef, inViewBuns, entryBuns] = useInView({ threshold: 0 });\n\n  const [saucesContainerRef, inViewSauces, entrySauces] = useInView({\n    threshold: 0,\n  });\n\n  const [fillingContainerRef, inViewFilling, entryFilling] = useInView({\n    threshold: 0,\n  });\n\n  React.useEffect(() => {\n    if (inViewBuns) {\n      setCurrent(\"buns\");\n    } else if (inViewSauces) {\n      setCurrent(\"sauces\");\n    } else if (inViewFilling) {\n      setCurrent(\"main\");\n    }\n  }, [inViewBuns, inViewFilling, inViewSauces]);\n\n  return (\n    <section\n      className={burgerIngredientsStyles.burger_ingridients}\n      data-testid=\"burger-ingridients\"\n    >\n      <h2 className={`${burgerIngredientsStyles.title} mt-10 mb-5`}>\n        Соберите бургер\n      </h2>\n      <div className={burgerIngredientsStyles.tabs}>\n        <Tab value=\"buns\" active={current === \"buns\"} onClick={setCurrent}>\n          Булки\n        </Tab>\n        <Tab value=\"sauces\" active={current === \"sauces\"} onClick={setCurrent}>\n          Соусы\n        </Tab>\n        <Tab value=\"main\" active={current === \"main\"} onClick={setCurrent}>\n          Начинки\n        </Tab>\n      </div>\n      <div className={`${burgerIngredientsStyles.parts_shell} mt-10 pr-2`}>\n        <div\n          className={burgerIngredientsStyles.parts_container}\n          ref={bunsContainerRef}\n          id=\"buns\"\n        >\n          <h2\n            className={` ${burgerIngredientsStyles.parts_title_no_margin} mb-6 mt-10`}\n          >\n            Булки\n          </h2>\n          <div className={burgerIngredientsStyles.parts_box}>\n            {buns.map((item) => (\n              <Card\n                card={item}\n                key={item._id!}\n                handleOpenIngridientsModal={props.handleOpenIngridientsModal}\n              />\n            ))}\n          </div>\n        </div>\n        <div\n          className={burgerIngredientsStyles.parts_container}\n          ref={saucesContainerRef}\n          id=\"sauces\"\n        >\n          <h2 className={burgerIngredientsStyles.parts_title}>Соусы</h2>\n          <div className={burgerIngredientsStyles.parts_box}>\n            {sauces.map((item) => (\n              <Card\n                card={item}\n                key={item._id!}\n                handleOpenIngridientsModal={props.handleOpenIngridientsModal}\n              />\n            ))}\n          </div>\n        </div>\n        <div\n          className={burgerIngredientsStyles.parts_container}\n          ref={fillingContainerRef}\n          id=\"main\"\n        >\n          <h2 className={burgerIngredientsStyles.parts_title}>Начинки</h2>\n          <div className={burgerIngredientsStyles.parts_box}>\n            {main.map((item) => (\n              <Card\n                card={item}\n                key={item._id!}\n                handleOpenIngridientsModal={props.handleOpenIngridientsModal}\n              />\n            ))}\n          </div>\n        </div>\n      </div>\n    </section>\n  );\n};\n\nexport default BurgerIngredients;\n","import React, { FunctionComponent } from \"react\";\nimport {\n  ConstructorElement,\n  DragIcon,\n} from \"@ya.praktikum/react-developer-burger-ui-components\";\n\n// DND\nimport { useDrop, useDrag } from \"react-dnd\";\n// DND\n\n// Redux\nimport { MOVE_CONSTRUCTOR_ITEM } from \"../../services/actions/burgerIngridients\";\n// Redux\n\n//   Стили\nimport constructorBurgerStyles from \"./ConstructorBurgerCard.module.css\";\n// Стили\n\n// Types\nimport { TIngridient } from \"../../types/burgerIngridients\";\nimport { TBurgerIngridient, TClientOffset } from \"../../types\";\n\nimport { useDispatch } from \"../../types/typedHooks\";\n// Types\n\ninterface IConstructorBurgerCard {\n  key: number;\n  item: TIngridient;\n  ingIndex: number;\n  close: () => void;\n}\n\ntype FC<P = IConstructorBurgerCard> = FunctionComponent<P>;\n\nconst ConstructorBurgerCard: FC<IConstructorBurgerCard> = (props) => {\n  const ref = React.useRef<HTMLDivElement>(null);\n\n  const dispatch = useDispatch();\n  // DND\n  const [{ opacity }, dragRef] = useDrag({\n    type: \"constructor\",\n    item: {\n      _id: props.item._id,\n      type: props.item.type,\n      ing: props.item,\n      ingIndex: props.ingIndex,\n    },\n    collect: (monitor) => ({\n      opacity: monitor.isDragging() ? 0.5 : 1,\n    }),\n  });\n\n  const [, dropTarget] = useDrop({\n    accept: \"constructor\",\n    hover(item: TBurgerIngridient, monitor) {\n      const dragIndex = item.ingIndex;\n      const replacedIndex = props.ingIndex;\n\n      if (dragIndex === replacedIndex) {\n        return;\n      }\n\n      const hoverBoundingRect = ref.current?.getBoundingClientRect();\n\n      const hoverMiddleY =\n        (hoverBoundingRect!.bottom - hoverBoundingRect!.top) / 2;\n\n      const clientOffset: TClientOffset | null = monitor.getClientOffset();\n\n      const hoverClientY = clientOffset!.y - hoverBoundingRect!.top;\n\n      if (dragIndex! < replacedIndex && hoverClientY < hoverMiddleY) {\n        return;\n      }\n\n      if (dragIndex! > replacedIndex && hoverClientY > hoverMiddleY) {\n        return;\n      }\n      dispatch({ type: MOVE_CONSTRUCTOR_ITEM, dragIndex, replacedIndex });\n\n      item.ingIndex = replacedIndex;\n    },\n  });\n  // DND\n\n  dragRef(dropTarget(ref));\n\n  return (\n    <div\n      className={constructorBurgerStyles.box}\n      ref={ref}\n      style={{ opacity: opacity }}\n      data-testid=\"ingridient-card\"\n    >\n      <DragIcon type=\"primary\" />\n      <ConstructorElement\n        isLocked={false}\n        text={props.item.name!}\n        handleClose={props.close}\n        price={props.item.price!}\n        thumbnail={props.item.image!}\n      />\n    </div>\n  );\n};\n\nexport default ConstructorBurgerCard;\n","import React, { FunctionComponent } from \"react\";\n\n// Библиотека UI-компонентов\nimport {\n  ConstructorElement,\n  CurrencyIcon,\n  Button,\n} from \"@ya.praktikum/react-developer-burger-ui-components\";\n// Библиотека UI-компонентов\n\nimport { useHistory } from \"react-router\";\n\nimport {\n  GET_BURGER_CONSTRUCTOR_ADD_ITEM,\n  GET_BURGER_CONSTRUCTOR_DELETE_ITEM,\n  COST_TOTAL_PRICE,\n  DELETE_BURGER_CONSTRUCTOR_AFTER_ORDER,\n} from \"../../services/actions/burgerIngridients\";\n// Redux\n\n// DND\nimport { useDrop } from \"react-dnd\";\n// DND\n\n// Стили\nimport burgerConstructorStyles from \"./BurgerConstructor.module.css\";\n// Стили\n\n// Actions\nimport { sendOrder } from \"../../services/actions/burgerIngridients\";\n// Actions\n\n// Компоненты\nimport ConstructorBurgerCard from \"../ConstructorBurgerCard/ConstructorBurgerCard\";\nimport { getCookie } from \"../../utils/cookie\";\n// Компоненты\n\n// Types\nimport { useDispatch, useSelector } from \"../../types/typedHooks\";\n\nimport { TIngridient } from \"../../types/burgerIngridients\";\nimport { TBurgerIngridient } from \"../../types\";\n// Types\n\ninterface IBurgerConstructorProps {\n  handleOpenOrderDetailsModal: () => void;\n  isSauce: Boolean;\n  isMain: Boolean;\n}\n\ntype FC<P = IBurgerConstructorProps> = FunctionComponent<P>;\n\nconst BurgerConstructor: FC<IBurgerConstructorProps> = (props) => {\n  const { burgerConstructorIngridients, bun, totalPrice } = useSelector(\n    (state) => state.burgerIngridients\n  );\n\n  const history = useHistory();\n\n  const [orderIngridients, setOrderIngridients] = React.useState<\n    Array<TIngridient>\n  >([]);\n\n  const dispatch = useDispatch();\n\n  // Перетаскивание внутри конструктора\n  const moveBurgerConstructor = (item: TBurgerIngridient) => {\n    dispatch({\n      type: GET_BURGER_CONSTRUCTOR_ADD_ITEM,\n      id: item._id,\n      ingType: item.type,\n      item: item.ing,\n    });\n    dispatch({ type: COST_TOTAL_PRICE });\n  };\n  // Перетаскивание внутри конструктора\n\n  const [, dropTarget] = useDrop({\n    accept: \"ingridients\",\n    drop(item: TBurgerIngridient) {\n      moveBurgerConstructor(item);\n    },\n  });\n\n  // Удаление ингридиента\n  const deleteIngridient = (index: number) => {\n    dispatch({ type: GET_BURGER_CONSTRUCTOR_DELETE_ITEM, ingIndex: index });\n    dispatch({ type: COST_TOTAL_PRICE });\n  };\n  // Удаление ингридиента\n\n  // Сортировка ингридиентов\n  React.useEffect(() => {\n    const sortIngridients = () => {\n      const sortedIng = burgerConstructorIngridients.filter(\n        (item) => item.type !== \"bun\"\n      );\n      setOrderIngridients(sortedIng);\n    };\n    sortIngridients();\n  }, [burgerConstructorIngridients]);\n  // Сортировка ингридиентов\n\n  const content = React.useMemo(\n    () =>\n      orderIngridients &&\n      orderIngridients.map((item: TIngridient, index: number) => {\n        return (\n          <ConstructorBurgerCard\n            key={index}\n            item={item}\n            ingIndex={index}\n            close={() => {\n              deleteIngridient(index);\n            }}\n          />\n        );\n      }),\n    [orderIngridients]\n  );\n\n  const ingridientsIds = React.useMemo(() => {\n    let ingridientsIdArr;\n    ingridientsIdArr = burgerConstructorIngridients.map((ing) => {\n      return ing._id!;\n    });\n    if (bun) {\n      ingridientsIdArr.push(bun._id!, bun._id!);\n    }\n    return ingridientsIdArr;\n  }, [burgerConstructorIngridients, bun]);\n\n  // Отправка заказа\n  const handleSendOrder = () => {\n    if (!getCookie(\"accessToken\")) {\n      history.push(\"/login\");\n    } else {\n      const accessToken = getCookie(\"accessToken\");\n\n      const burgerConstructorIngridientsTypes =\n        burgerConstructorIngridients.map((ing) => {\n          return ing.type;\n        });\n      const isSauce = burgerConstructorIngridientsTypes.indexOf(\"sauce\") !== -1;\n      const isMain = burgerConstructorIngridientsTypes.indexOf(\"main\") !== -1;\n\n      if ((isSauce && bun) || (isMain && bun)) {\n        props.handleOpenOrderDetailsModal();\n        dispatch(sendOrder(ingridientsIds, accessToken));\n      }\n\n      dispatch({ type: DELETE_BURGER_CONSTRUCTOR_AFTER_ORDER });\n    }\n  };\n\n  // Отправка заказа\n\n  return (\n    <section\n      className={`${burgerConstructorStyles.burger_constructor} mt-25 ml-10`}\n      ref={dropTarget}\n      data-testid=\"burger-constructor\"\n    >\n      {bun.name && (\n        <div className={burgerConstructorStyles.first_card}>\n          <ConstructorElement\n            type={\"top\"}\n            isLocked={true}\n            text={`${bun.name}(верх)`}\n            price={bun.price!}\n            thumbnail={bun.image!}\n          />\n        </div>\n      )}\n      <div\n        className={burgerConstructorStyles.elements_container}\n        data-testid=\"ingridients-container\"\n      >\n        {content}\n      </div>\n      {bun.name && (\n        <div className={burgerConstructorStyles.last_card}>\n          <ConstructorElement\n            type={\"bottom\"}\n            isLocked={true}\n            text={`${bun.name}(низ)`}\n            price={bun.price!}\n            thumbnail={bun.image!}\n          />\n        </div>\n      )}\n      <div className={`${burgerConstructorStyles.general_price} mt-10`}>\n        <div className={`${burgerConstructorStyles.price} mr-10`}>\n          <p className={`mr-3`}>{totalPrice}</p>\n          <CurrencyIcon type=\"primary\" />\n        </div>\n        <Button type=\"primary\" size=\"medium\" onClick={handleSendOrder}>\n          Оформить заказ\n        </Button>\n      </div>\n    </section>\n  );\n};\n\nexport default BurgerConstructor;\n","import React, { FunctionComponent } from \"react\";\nimport PropTypes from \"prop-types\";\n\n// Компоненты\nimport BurgerIngredients from \"../../components/BurgerIngredients/BurgerIngredients\";\nimport BurgerConstructor from \"../../components/BurgerConstructor/BurgerConstructor\";\n// Компоненты\n\n// DND\nimport { HTML5Backend } from \"react-dnd-html5-backend\";\nimport { DndProvider } from \"react-dnd\";\n// DND\n\n// Стили\nimport mainStyles from \"./Main.module.css\";\nimport { TIngridient } from \"../../types/burgerIngridients\";\n// Стили\n\ninterface IMainProps {\n  handleOpenIngridientsModal: (item: TIngridient) => void;\n  handleOpenOrderDetailsModal: () => void;\n  isSauce: Boolean;\n  isMain: Boolean;\n}\n\ntype FC<P = IMainProps> = FunctionComponent<P>;\n\nconst Main: FC<IMainProps> = (props) => {\n  return (\n    <>\n      <main className={mainStyles.main}>\n        <DndProvider backend={HTML5Backend}>\n          <BurgerIngredients\n            handleOpenIngridientsModal={props.handleOpenIngridientsModal}\n          />\n          <BurgerConstructor\n            handleOpenOrderDetailsModal={props.handleOpenOrderDetailsModal}\n            isSauce={props.isSauce}\n            isMain={props.isMain}\n          />\n        </DndProvider>\n      </main>\n    </>\n  );\n};\n\nexport default Main;\n","import React, { FunctionComponent } from \"react\";\nimport PropTypes from \"prop-types\";\n\n// Стили\nimport inngredientDetailsStyles from \"./IngredientDetails.module.css\";\n// Стили\n\n// Types\nimport { TIngridient } from \"../../types/burgerIngridients\";\n// Types\n\ninterface IIngredientDetailsProps {\n  ingridientInfo?: TIngridient;\n}\n\ntype FC<P = IIngredientDetailsProps> = FunctionComponent<P>;\n\nconst IngredientDetails: FC<IIngredientDetailsProps> = (props) => {\n  return (\n    <div className={inngredientDetailsStyles.ingridients}>\n      <img\n        src={props.ingridientInfo && props.ingridientInfo.image_large}\n        alt={props.ingridientInfo && props.ingridientInfo.name}\n        className={inngredientDetailsStyles.image}\n      />\n      <div className={`${inngredientDetailsStyles.container} mt-4 mb-15`}>\n        <h2 className={inngredientDetailsStyles.title}>\n          {props.ingridientInfo && props.ingridientInfo.name}\n        </h2>\n        <div className={`${inngredientDetailsStyles.nutrients} mt-8`}>\n          <div className={`${inngredientDetailsStyles.nutrient} mr-5`}>\n            <h3 className={inngredientDetailsStyles.nutrient_title}>\n              Калории,ккал\n            </h3>\n            <p className={inngredientDetailsStyles.nutrient_text}>\n              {props.ingridientInfo && props.ingridientInfo.calories}\n            </p>\n          </div>\n          <div className={`${inngredientDetailsStyles.nutrient} mr-5`}>\n            <h3 className={inngredientDetailsStyles.nutrient_title}>\n              Белки, г\n            </h3>\n            <p className={inngredientDetailsStyles.nutrient_text}>\n              {props.ingridientInfo && props.ingridientInfo.proteins}\n            </p>\n          </div>\n          <div className={`${inngredientDetailsStyles.nutrient} mr-5`}>\n            <h3 className={inngredientDetailsStyles.nutrient_title}>Жиры, г</h3>\n            <p className={inngredientDetailsStyles.nutrient_text}>\n              {props.ingridientInfo && props.ingridientInfo.fat}\n            </p>\n          </div>\n          <div className={`${inngredientDetailsStyles.nutrient} mr-5`}>\n            <h3 className={inngredientDetailsStyles.nutrient_title}>\n              Углеводы, г\n            </h3>\n            <p className={inngredientDetailsStyles.nutrient_text}>\n              {props.ingridientInfo && props.ingridientInfo.carbohydrates}\n            </p>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default IngredientDetails;\n","export default __webpack_public_path__ + \"static/media/done.e036971b.png\";","import React from \"react\";\n\n// Стили\nimport orderDetailsStyles from \"./OrderDetails.module.css\";\n// Стили\n\n// Картинки\nimport done from \"../../images/done.png\";\n// Картинки\n\n// Types\nimport { useSelector } from \"../../types/typedHooks\";\n// Types\n\nfunction OrderDetails() {\n  const { order, orderRequest } = useSelector(\n    (store) => store.burgerIngridients\n  );\n\n  return (\n    <div className={orderDetailsStyles.order}>\n      {orderRequest ? (\n        <h2 className={orderDetailsStyles.loading}>Пожалуйста подождите :)</h2>\n      ) : (\n        <h2 className={`${orderDetailsStyles.number} mt-10 mb-8`}>\n          {order !== undefined ? order!.success && order!.order.number : \"\"}\n        </h2>\n      )}\n      <p className={`${orderDetailsStyles.id} mb-15`}>идентификатор заказа</p>\n      <img src={done} alt=\"Готово\" />\n      <div className={`${orderDetailsStyles.notification} mt-15 mb-30`}>\n        <p className={orderDetailsStyles.message}>Ваш заказ начали готовить</p>\n        <p className={orderDetailsStyles.message_wait}>\n          Дождитесь готовности на орбитальной станции\n        </p>\n      </div>\n    </div>\n  );\n}\n\nexport default OrderDetails;\n","import React, { FunctionComponent } from \"react\";\n\n// Стили\nimport modalOverlayStyles from \"./ModalOverlay.module.css\";\n// Стили\n\ninterface IModalOverlayProps {\n  closeModal: () => void;\n}\n\ntype FC<P = IModalOverlayProps> = FunctionComponent<P>;\n\nconst ModalOverlay: FC<IModalOverlayProps> = (props) => {\n  return (\n    <div\n      className={modalOverlayStyles.overlay}\n      onClick={props.closeModal}\n    ></div>\n  );\n};\n\nexport default ModalOverlay;\n","import React, { ReactNode } from \"react\";\nimport ReactDOM from \"react-dom\";\n// Стили\nimport modalStyles from \"./Modal.module.css\";\n// Стили\n\nimport { CloseIcon } from \"@ya.praktikum/react-developer-burger-ui-components\";\n\n// Компоненты\nimport ModalOverlay from \"../ModalOverlay/ModalOverlay\";\n// Компоненты\n\nconst modalRoot = document.getElementById(\"react-modals\")!;\n\ninterface IModalProps {\n  isOpen: boolean;\n  handleCloseModal: () => void;\n  children?: ReactNode;\n}\n\nclass Modal extends React.Component<IModalProps> {\n  handleCloseModal = () => {\n    if (this.props.handleCloseModal) this.props.handleCloseModal();\n  };\n\n  render() {\n    const { isOpen, handleCloseModal, children } = this.props;\n    return ReactDOM.createPortal(\n      <section\n        className={isOpen ? modalStyles.modal : modalStyles.modal_hidden}\n      >\n        <div className={modalStyles.modal_wrapper}>\n          <div className={`${modalStyles.header} mt-10`}>\n            <h2 className={`${modalStyles.title} ml-10`}>{}</h2>\n            <button\n              className={`${modalStyles.closeButton} mr-10`}\n              type=\"button\"\n              onClick={handleCloseModal}\n            >\n              <CloseIcon type=\"primary\" />\n            </button>\n          </div>\n          {children}\n        </div>\n        <ModalOverlay closeModal={handleCloseModal} />\n      </section>,\n      modalRoot\n    );\n  }\n}\n\nexport default Modal;\n","import React, { useCallback } from \"react\";\n\ntype TValues = {\n  [key: string]: string;\n};\n\n//хук управления формой и валидации формы\nexport function useFormWithValidation() {\n  const [values, setValues] = React.useState<TValues>({});\n  const [errors, setErrors] = React.useState({});\n  const [isValid, setIsValid] = React.useState(false);\n\n  const [isDirty, setIsDirty] = React.useState(false);\n  const [isEmail, setIsEmail] = React.useState(false);\n\n  const re =\n    /^(([^<>()[\\]\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@(([^<>()[\\]\\.,;:\\s@\\\"]+\\.)+[^<>()[\\]\\.,;:\\s@\\\"]{2,})$/i;\n\n  const handleChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    const target = event.target;\n    const name: string = target.name;\n    const value: string = target.value;\n    setValues({ ...values, [name]: value });\n    setErrors({ ...errors, [name]: target.validationMessage });\n    setIsValid(target.checkValidity());\n\n    value ? setIsDirty(false) : setIsDirty(true);\n    name === \"mail\" && re.test(String(value).toLowerCase())\n      ? setIsEmail(true)\n      : setIsEmail(false);\n  };\n\n  const resetForm = useCallback(\n    (\n      newValues = {},\n      newErrors = {},\n      newIsValid = false,\n      newIsDirty = false,\n      newEmail = false\n    ) => {\n      setValues(newValues);\n      setErrors(newErrors);\n      setIsValid(newIsValid);\n      setIsDirty(newIsDirty);\n      setIsEmail(newEmail);\n    },\n    [setValues, setErrors, setIsValid, setIsDirty, setIsEmail]\n  );\n\n  return { values, handleChange, errors, isValid, resetForm, isDirty, isEmail };\n}\n","import React from \"react\";\n\n// Библиотека UI\nimport {\n  Button,\n  Input,\n  PasswordInput,\n  ShowIcon,\n} from \"@ya.praktikum/react-developer-burger-ui-components\";\n// Библиотека UI\n\nimport { Link, useHistory, Redirect, useLocation } from \"react-router-dom\";\n\nimport { handleLogin } from \"../../services/actions/auth\";\n\n// Стили\nimport signInStyles from \"./SignIn.module.css\";\n// Стили\n\n// Types\nimport { TLocation } from \"../../types\";\n\nimport { useDispatch, useSelector } from \"../../types/typedHooks\";\n// Types\n\nimport { useFormWithValidation } from \"../../customHooks/FormValidation/FormValidation\";\n\nfunction SignIn() {\n  const dispatch = useDispatch();\n\n  const { name } = useSelector((state) => state.authUser.user);\n\n  const email = useFormWithValidation();\n  const password = useFormWithValidation();\n\n  const handleUserLogin = (e: React.FormEvent<HTMLFormElement>) => {\n    e.preventDefault();\n    const emailValue = email.values.email;\n    const passwordValue = password.values.password;\n    dispatch(handleLogin(emailValue, passwordValue));\n  };\n\n  const location = useLocation<TLocation>();\n\n  if (name) {\n    const { from } = location.state || { from: { pathname: \"/\" } };\n    return (\n      <Redirect\n        // Если объект state не является undefined, вернём пользователя назад.\n        to={from}\n      />\n    );\n  }\n\n  return (\n    <section className={signInStyles.sign_in}>\n      <div className={signInStyles.container}>\n        <h2 className={`${signInStyles.title} mb-6`}>Вход</h2>\n        <form\n          className={signInStyles.form}\n          onSubmit={(e) => {\n            handleUserLogin(e);\n          }}\n        >\n          <fieldset className={`${signInStyles.fieldset} mb-6`}>\n            <Input\n              type=\"email\"\n              placeholder=\"E-mail\"\n              name=\"email\"\n              value={email.values.email || \"\"}\n              onChange={email.handleChange}\n            />\n          </fieldset>\n          <fieldset className={`${signInStyles.fieldset} mb-6`}>\n            <PasswordInput\n              name=\"password\"\n              value={password.values.password || \"\"}\n              onChange={password.handleChange}\n            />\n          </fieldset>\n          <Button type=\"primary\" size=\"medium\">\n            Войти\n          </Button>\n        </form>\n        <div className={`${signInStyles.signup_box} mt-20 mb-4`}>\n          <p className={signInStyles.signup_text}>Вы — новый пользователь?</p>\n          <Link className={`${signInStyles.link} ml-2`} to=\"/register\">\n            Зарегистрироваться\n          </Link>\n        </div>\n        <div className={signInStyles.recover_box}>\n          <p className={signInStyles.recover_box}>Забыли пароль?</p>\n          <Link className={`${signInStyles.link} ml-2`} to=\"/forgot-password\">\n            Восстановить пароль\n          </Link>\n        </div>\n      </div>\n    </section>\n  );\n}\n\nexport default SignIn;\n","import React from \"react\";\n\n// Библиотека UI\nimport {\n  Button,\n  Input,\n  PasswordInput,\n  ShowIcon,\n} from \"@ya.praktikum/react-developer-burger-ui-components\";\n// Библиотека UI\n\nimport { Link, Redirect, useLocation } from \"react-router-dom\";\n\n// Redux\nimport { handleRegistrationUser } from \"../../services/actions/auth\";\n\nimport {} from \"../../services/actions/burgerIngridients\";\n// Redux\n\n// Types\nimport { TLocation } from \"../../types\";\n\nimport { useDispatch, useSelector } from \"../../types/typedHooks\";\n// Types\n\n// Стили\nimport signUpStyles from \"./SignUp.module.css\";\n// Стили\n\nimport { useFormWithValidation } from \"../../customHooks/FormValidation/FormValidation\";\n\nfunction SignUp() {\n  const dispatch = useDispatch();\n\n  const location = useLocation<TLocation>();\n\n  const { name } = useSelector((state) => state.authUser.user);\n\n  const nameInput = useFormWithValidation();\n  const email = useFormWithValidation();\n  const password = useFormWithValidation();\n\n  const handleRegister = (e: React.FormEvent<HTMLFormElement>) => {\n    e.preventDefault();\n\n    const nameValue = nameInput.values.name;\n    const emailValue = email.values.email;\n    const passwordValue = password.values.password;\n\n    dispatch(handleRegistrationUser(nameValue, emailValue, passwordValue));\n  };\n\n  if (name) {\n    const { from } = location.state || { from: { pathname: \"/\" } };\n    return (\n      <Redirect\n        // Если объект state не является undefined, вернём пользователя назад.\n        to={from}\n      />\n    );\n  }\n\n  return (\n    <section className={signUpStyles.sign_up}>\n      <div className={signUpStyles.container}>\n        <h2 className={`${signUpStyles.title} mb-6`}>Регистрация</h2>\n        <form\n          className={signUpStyles.form}\n          onSubmit={(e) => {\n            handleRegister(e);\n          }}\n        >\n          <fieldset className={`${signUpStyles.fieldset} mb-6`}>\n            <Input\n              type=\"text\"\n              placeholder=\"Имя\"\n              name=\"name\"\n              onChange={nameInput.handleChange}\n              value={nameInput.values.name || \"\"}\n            />\n          </fieldset>\n          <fieldset className={`${signUpStyles.fieldset} mb-6`}>\n            <Input\n              type=\"email\"\n              placeholder=\"E-mail\"\n              name=\"email\"\n              onChange={email.handleChange}\n              value={email.values.email || \"\"}\n            />\n          </fieldset>\n          <fieldset className={`${signUpStyles.fieldset} mb-6`}>\n            <PasswordInput\n              name=\"password\"\n              onChange={password.handleChange}\n              value={password.values.password || \"\"}\n            />\n          </fieldset>\n          <Button type=\"primary\" size=\"medium\">\n            Зарегистрироваться\n          </Button>\n        </form>\n        <div className={`${signUpStyles.signup_box} mt-20 mb-4`}>\n          <p className={signUpStyles.signup_text}>Уже зарегистрированы?</p>\n          <Link className={`${signUpStyles.link} ml-2`} to=\"/login\">\n            Войти\n          </Link>\n        </div>\n      </div>\n    </section>\n  );\n}\n\nexport default SignUp;\n","import React from \"react\";\n\n// Библиотека UI\nimport {\n  Button,\n  Input,\n  ShowIcon,\n} from \"@ya.praktikum/react-developer-burger-ui-components\";\n// Библиотека UI\n\nimport { Link, Redirect, useLocation } from \"react-router-dom\";\n\nimport { getCookie } from \"../../utils/cookie\";\n\n// Actions\nimport { handleForgotPassword } from \"../../services/actions/auth\";\n// Actions\n\n// Стили\nimport recoverPasswordStyles from \"./RecoverPassword.module.css\";\n// Стили\n\n// Types\nimport { TLocation } from \"../../types\";\n\nimport { useDispatch, useSelector } from \"../../types/typedHooks\";\n// Types\n\n// Custom Hooks\nimport { useFormWithValidation } from \"../../customHooks/FormValidation/FormValidation\";\n// Custom Hooks\n\nfunction RecoverPassword() {\n  const location = useLocation<TLocation>();\n\n  const dispatch = useDispatch();\n\n  const { name } = useSelector((state) => state.authUser.user);\n\n  const forgotPasswordSucces = useSelector(\n    (state) => state.authUser.forgotPasswordSucces\n  );\n\n  const email = useFormWithValidation();\n\n  const forgotPasswordHandler = (e: React.FormEvent<HTMLFormElement>) => {\n    e.preventDefault();\n    dispatch(handleForgotPassword(email.values.email));\n  };\n\n  if (name) {\n    const { from } = location.state || { from: { pathname: \"/\" } };\n    return (\n      <Redirect\n        // Если объект state не является undefined, вернём пользователя назад.\n        to={from}\n      />\n    );\n  }\n\n  if (forgotPasswordSucces) {\n    return <Redirect to=\"/reset-password\" />;\n  }\n\n  return (\n    <section className={recoverPasswordStyles.recover}>\n      <div className={recoverPasswordStyles.container}>\n        <h2 className={`${recoverPasswordStyles.title} mb-6`}>\n          Восстановление пароля\n        </h2>\n        <form\n          className={recoverPasswordStyles.form}\n          onSubmit={(e) => {\n            forgotPasswordHandler(e);\n          }}\n        >\n          <fieldset className={`${recoverPasswordStyles.fieldset} mb-6`}>\n            <Input\n              type=\"email\"\n              placeholder=\"Укажите e-mail\"\n              name=\"email\"\n              value={email.values.email || \"\"}\n              onChange={email.handleChange}\n            />\n          </fieldset>\n          <Button type=\"primary\" size=\"medium\">\n            Восстановить\n          </Button>\n        </form>\n        <div className={`${recoverPasswordStyles.recover_box} mt-20`}>\n          <p className={recoverPasswordStyles.recover_box}>Вспомнили пароль?</p>\n          <Link className={`${recoverPasswordStyles.link} ml-2`} to=\"/login\">\n            Войти\n          </Link>\n        </div>\n      </div>\n    </section>\n  );\n}\n\nexport default RecoverPassword;\n","import React from \"react\";\n\n// Библиотека UI\nimport {\n  Button,\n  Input,\n  PasswordInput,\n} from \"@ya.praktikum/react-developer-burger-ui-components\";\n// Библиотека UI\n\nimport { Link, Redirect, useLocation } from \"react-router-dom\";\n\n// Actions\nimport { handleResetPassword } from \"../../services/actions/auth\";\n// Actions\n\n// Custom hooks\nimport { useFormWithValidation } from \"../../customHooks/FormValidation/FormValidation\";\n// Custom hooks\n\n// Стили\nimport resetPasswordStyles from \"./ResetPassword.module.css\";\n// Стили\n\n// Types\nimport { TLocation } from \"../../types\";\n\nimport { useDispatch, useSelector } from \"../../types/typedHooks\";\n// Types\n\nfunction ResetPassword() {\n  const location = useLocation<TLocation>();\n\n  const dispatch = useDispatch();\n\n  const { name } = useSelector((state) => state.authUser.user);\n\n  const resetPasswordSucces = useSelector(\n    (state) => state.authUser.resetPasswordSucces\n  );\n\n  const forgotPasswordSucces = useSelector(\n    (state) => state.authUser.forgotPasswordSucces\n  );\n\n  const password = useFormWithValidation();\n  const code = useFormWithValidation();\n\n  const resetPasswordHandler = (e: React.FormEvent<HTMLFormElement>) => {\n    e.preventDefault();\n\n    const passwordValue = password.values.password;\n    const codeValue = code.values.code;\n\n    dispatch(handleResetPassword(passwordValue, codeValue));\n  };\n\n  if (resetPasswordSucces) {\n    return <Redirect to=\"/\" />;\n  }\n\n  if (!forgotPasswordSucces) {\n    const { from } = location.state || { from: { pathname: \"/\" } };\n    console.log(from);\n    return (\n      <Redirect\n        // Если объект state не является undefined, вернём пользователя назад.\n        to={from}\n      />\n    );\n  }\n\n  if (name) {\n    const { from } = location.state || { from: { pathname: \"/\" } };\n    return (\n      <Redirect\n        // Если объект state не является undefined, вернём пользователя назад.\n        to={from}\n      />\n    );\n  }\n\n  return (\n    <section className={resetPasswordStyles.reset}>\n      <div className={resetPasswordStyles.container}>\n        <h2 className={`${resetPasswordStyles.title} mb-6`}>\n          Восстановление пароля\n        </h2>\n        <form\n          className={resetPasswordStyles.form}\n          onSubmit={(e) => {\n            resetPasswordHandler(e);\n          }}\n        >\n          <fieldset className={`${resetPasswordStyles.fieldset} mb-6`}>\n            <PasswordInput\n              name=\"password\"\n              value={password.values.password || \"\"}\n              onChange={password.handleChange}\n            />\n          </fieldset>\n          <fieldset className={`${resetPasswordStyles.fieldset} mb-6`}>\n            <Input\n              type=\"text\"\n              placeholder=\"Введите код из письма\"\n              name=\"code\"\n              value={code.values.code || \"\"}\n              onChange={code.handleChange}\n            />\n          </fieldset>\n          <Button type=\"primary\" size=\"medium\">\n            Сохранить\n          </Button>\n        </form>\n        <div className={`${resetPasswordStyles.recover_box} mt-20`}>\n          <p className={resetPasswordStyles.recover_box}>Вспомнили пароль?</p>\n          <Link className={`${resetPasswordStyles.link} ml-2`} to=\"/login\">\n            Войти\n          </Link>\n        </div>\n      </div>\n    </section>\n  );\n}\n\nexport default ResetPassword;\n","import { MouseEvent } from \"react\";\n\nimport { Link, useHistory } from \"react-router-dom\";\n\nimport { handleUserLogout } from \"../../services/actions/auth\";\n\n// Стили\nimport routesStyles from \"./RouteBox.module.css\";\n// Стили\n\n// Types\nimport { useDispatch as dispatchHook } from \"react-redux\";\nimport { AppThunk, AppDispatch } from \"../../types/index\";\n// Types\n\nfunction RouteBox() {\n  // Хук не даст отправить экшен, который ему не знаком\n  const useDispatch = () => dispatchHook<AppDispatch | AppThunk>();\n\n  const history = useHistory();\n\n  const dispatch = useDispatch();\n\n  const isProfileActive =\n    history.location.pathname === \"/profile\" ? true : false;\n\n  const isOrdersActive =\n    history.location.pathname === \"/profile/orders\" ? true : false;\n\n  const handleLogout = (e: MouseEvent) => {\n    e.preventDefault();\n    const refreshToken = localStorage.getItem(\"refreshToken\");\n    if (refreshToken) dispatch(handleUserLogout(refreshToken));\n    history.push(\"/login\");\n  };\n\n  return (\n    <div className={routesStyles.route_box}>\n      <Link\n        to=\"/profile\"\n        className={`${routesStyles.link} mb-9 ${\n          isProfileActive ? routesStyles.link_active : routesStyles.link\n        }`}\n      >\n        Профиль\n      </Link>\n      <Link\n        to=\"/profile/orders\"\n        className={`${routesStyles.link} mb-9 ${\n          isOrdersActive ? routesStyles.link_active : routesStyles.link\n        }`}\n      >\n        История заказов\n      </Link>\n      <Link\n        className={`${routesStyles.link} mb-20`}\n        to=\"/login\"\n        onClick={handleLogout}\n      >\n        Выход\n      </Link>\n      <p className={routesStyles.text}>\n        В этом разделе вы можете изменить свои персональные данные\n      </p>\n    </div>\n  );\n}\n\nexport default RouteBox;\n","import React, { MouseEvent } from \"react\";\n\n// Стили\nimport profileStyles from \"./Profile.module.css\";\n// Стили\n\nimport { handleUpdateUser } from \"../../services/actions/auth\";\n\nimport { getCookie } from \"../../utils/cookie\";\n\n// Types\nimport { useDispatch, useSelector } from \"../../types/typedHooks\";\n// Types\n\n// UI\nimport {\n  Input,\n  Button,\n} from \"@ya.praktikum/react-developer-burger-ui-components\";\n// UI\n\n// Компоненты\nimport RouteBox from \"../../components/RouteBox/RouteBox\";\n// Компоненты\n\nfunction Profile() {\n  const [isButtonsActive, setIsButtonsActive] = React.useState<boolean>(false);\n\n  const { name, email } = useSelector((store) => store.authUser.user);\n\n  const [user, setUser] = React.useState({\n    name: \"\",\n    email: \"\",\n  });\n\n  React.useEffect(() => {\n    if (name && email) {\n      setUser({ name: name, email: email });\n    }\n  }, [email, name]);\n\n  const dispatch = useDispatch();\n\n  const onChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    setUser({ ...user, [event.target.name]: event.target.value });\n  };\n\n  React.useEffect(() => {\n    user.email === email && user.name === name\n      ? setIsButtonsActive(false)\n      : setIsButtonsActive(true);\n  }, [email, name, user.email, user.name]);\n\n  const handleUpdateUserData = (e: React.FormEvent<HTMLFormElement>) => {\n    e.preventDefault();\n    const accessToken = getCookie(\"accessToken\");\n    if (accessToken) {\n      dispatch(handleUpdateUser(accessToken, user.email, user.name));\n    }\n  };\n\n  const handleResetChanges = (e: React.FormEvent<HTMLFormElement>) => {\n    e.preventDefault();\n    setUser({ name: name, email: email });\n  };\n\n  return (\n    <>\n      <section className={profileStyles.profile}>\n        <div className={profileStyles.container}>\n          <RouteBox />\n          <form\n            className={profileStyles.form}\n            onSubmit={(e: React.FormEvent<HTMLFormElement>) => {\n              handleUpdateUserData(e);\n            }}\n            onReset={(e) => {\n              handleResetChanges(e);\n            }}\n          >\n            <fieldset className={`${profileStyles.fieldset} mb-6`}>\n              <Input\n                type=\"text\"\n                name=\"name\"\n                value={user.name}\n                placeholder=\"Имя\"\n                icon=\"EditIcon\"\n                onChange={(e) => {\n                  onChange(e);\n                }}\n              />\n            </fieldset>\n            <fieldset className={`${profileStyles.fieldset} mb-6`}>\n              <Input\n                name=\"email\"\n                placeholder=\"Email\"\n                icon=\"EditIcon\"\n                value={user.email || \"\"}\n                onChange={(e) => {\n                  onChange(e);\n                }}\n              />\n            </fieldset>\n            <fieldset className={profileStyles.fieldset}>\n              <Input\n                type={\"password\"}\n                name=\"password\"\n                placeholder=\"Пароль\"\n                icon=\"EditIcon\"\n                value={\"\"}\n                onChange={(e) => {\n                  onChange(e);\n                }}\n              />\n            </fieldset>\n            <div\n              className={\n                isButtonsActive\n                  ? profileStyles.buttons\n                  : profileStyles.buttons_hide\n              }\n            >\n              <Button type=\"secondary\" size=\"small\">\n                Отмена\n              </Button>\n              <Button type=\"primary\" size=\"small\">\n                Сохранить\n              </Button>\n            </div>\n          </form>\n        </div>\n      </section>\n    </>\n  );\n}\n\nexport default Profile;\n","import React, { FunctionComponent } from \"react\";\n\n// Стили\nimport orderCardStyles from \"./OrderCard.module.css\";\n// Стили\n\nimport { useLocation } from \"react-router\";\n\n// UI\nimport { CurrencyIcon } from \"@ya.praktikum/react-developer-burger-ui-components\";\nimport { Link } from \"react-router-dom\";\n// UI\n\n// Types\nimport { TUserOrder } from \"../../types/userOrders\";\n// Types\n\ninterface IOrderCardProps {\n  handleOpenOrderModal: () => void;\n  imagesArr: Array<string>;\n  totalPrice: number;\n  time: string;\n  day: number;\n  order: TUserOrder;\n  key: string;\n}\n\ntype FC<P = IOrderCardProps> = FunctionComponent<P>;\n\nconst OrderCard: FC<IOrderCardProps> = (props) => {\n  const date = new Date();\n  const todayDay = date.getDate();\n\n  const location = useLocation();\n\n  const handleOpenModal = () => {\n    props.handleOpenOrderModal();\n  };\n  return (\n    <Link\n      className={orderCardStyles.link}\n      onClick={handleOpenModal}\n      to={{\n        pathname: `/profile/orders/${props.order._id}`,\n        state: { background: location },\n      }}\n    >\n      <div\n        className={orderCardStyles.card}\n        onClick={props.handleOpenOrderModal}\n      >\n        <div className={orderCardStyles.box}>\n          <p\n            className={`${orderCardStyles.code} text text_type_digits-default`}\n          >\n            #{props.order.number}\n          </p>\n          <p\n            className={`${orderCardStyles.time} text text_type_main-default text_color_inactive`}\n          >\n            {todayDay === props.day\n              ? `Сегодня, `\n              : todayDay - props.day === 1\n              ? `${todayDay - props.day} день назад, `\n              : `${todayDay - props.day} дня назад, `}\n            {props.time} i-GMT+3\n          </p>\n        </div>\n        <p className={`${orderCardStyles.name} text text_type_main-medium`}>\n          {props.order.name}\n        </p>\n        <p className={`${orderCardStyles.status} text text_type_main-small`}>\n          {props.order.status === \"done\" ? \"Создан\" : \"Готовится\"}\n        </p>\n        <div className={orderCardStyles.burger_info}>\n          <ul className={orderCardStyles.images_list}>\n            {props.imagesArr.map((src, index) => {\n              let leftMove;\n\n              if (index) {\n                leftMove = -10 * index;\n              }\n\n              return (\n                <li\n                  className={orderCardStyles.image_li}\n                  style={{ left: leftMove }}\n                  key={index}\n                >\n                  <img src={src} alt=\"test\" className={orderCardStyles.image} />\n                </li>\n              );\n            })}\n          </ul>\n          <div className={orderCardStyles.price_box}>\n            <p className={orderCardStyles.price}>{props.totalPrice}</p>\n            <CurrencyIcon type={\"secondary\"} />\n          </div>\n        </div>\n      </div>\n    </Link>\n  );\n};\n\nexport default OrderCard;\n","import { AppThunk } from \"../../types/index\";\n\nimport { RootState } from \"../../types/index\";\n\nexport const WS_CONNECTION_START: \"WS_CONNECTION_START\" = \"WS_CONNECTION_START\";\nexport const WS_CONNECTION_SUCCESS: \"WS_CONNECTION_SUCCESS\" =\n  \"WS_CONNECTION_SUCCESS\";\nexport const WS_CONNECTION_ERROR: \"WS_CONNECTION_ERROR\" = \"WS_CONNECTION_ERROR\";\nexport const WS_CONNECTION_CLOSED: \"WS_CONNECTION_CLOSED\" =\n  \"WS_CONNECTION_CLOSED\";\nexport const WS_GET_MESSAGE: \"WS_GET_MESSAGE\" = \"WS_GET_MESSAGE\";\nexport const WS_SEND_MESSAGE: \"WS_SEND_MESSAGE\" = \"WS_SEND_MESSAGE\";\n\nexport const WS_AUTH_CONNECTION_START: \"WS_AUTH_CONNECTION_START\" =\n  \"WS_AUTH_CONNECTION_START\";\nexport const WS_AUTH_CONNECTION_SUCCESS: \"WS_AUTH_CONNECTION_SUCCESS\" =\n  \"WS_AUTH_CONNECTION_SUCCESS\";\nexport const WS_AUTH_CONNECTION_ERROR: \"WS_AUTH_CONNECTION_ERROR\" =\n  \"WS_AUTH_CONNECTION_ERROR\";\nexport const WS_AUTH_CONNECTION_CLOSED: \"WS_AUTH_CONNECTION_CLOSED\" =\n  \"WS_AUTH_CONNECTION_CLOSED\";\nexport const WS_AUTH_GET_MESSAGE: \"WS_AUTH_GET_MESSAGE\" = \"WS_AUTH_GET_MESSAGE\";\nexport const WS_AUTH_SEND_MESSAGE: \"WS_AUTH_SEND_MESSAGE\" =\n  \"WS_AUTH_SEND_MESSAGE\";\n\nexport interface WsConnectionStartAction {\n  readonly type: typeof WS_CONNECTION_START;\n}\n\nexport interface WsConnectionSuccessAction {\n  readonly type: typeof WS_CONNECTION_SUCCESS;\n}\n\nexport interface WsConnectionErrorAction {\n  readonly type: typeof WS_CONNECTION_ERROR;\n  readonly payload: any;\n}\n\nexport interface WsConnectionClosedAction {\n  readonly type: typeof WS_CONNECTION_CLOSED;\n}\n\nexport interface WsConnectionGetMessageAction {\n  readonly type: typeof WS_GET_MESSAGE;\n  readonly payload: any;\n}\n\nexport interface WsConnectionSendMessageAction {\n  readonly type: typeof WS_SEND_MESSAGE;\n}\n\nexport interface WsAuthConnectionStartAction {\n  readonly type: typeof WS_AUTH_CONNECTION_START;\n}\n\nexport interface WsAuthConnectionSuccessAction {\n  readonly type: typeof WS_AUTH_CONNECTION_SUCCESS;\n}\n\nexport interface WsAuthConnectionErrorAction {\n  readonly type: typeof WS_AUTH_CONNECTION_ERROR;\n  readonly payload: any;\n}\n\nexport interface WsAuthConnectionClosedAction {\n  readonly type: typeof WS_AUTH_CONNECTION_CLOSED;\n}\n\nexport interface WsAuthConnectionGetMessageAction {\n  readonly type: typeof WS_AUTH_GET_MESSAGE;\n  readonly payload: any;\n}\n\nexport interface WsAuthConnectionSendMessageAction {\n  readonly type: typeof WS_AUTH_SEND_MESSAGE;\n}\n\n// Union тип\nexport type TWsActions =\n  | WsConnectionStartAction\n  | WsConnectionSuccessAction\n  | WsConnectionErrorAction\n  | WsConnectionClosedAction\n  | WsConnectionGetMessageAction\n  | WsConnectionSendMessageAction\n  | WsAuthConnectionStartAction\n  | WsAuthConnectionSuccessAction\n  | WsAuthConnectionErrorAction\n  | WsAuthConnectionClosedAction\n  | WsAuthConnectionGetMessageAction\n  | WsAuthConnectionSendMessageAction;\n\nexport const wsInit: AppThunk = () => {\n  return function (dispatch) {\n    dispatch({\n      type: WS_CONNECTION_START,\n    });\n  };\n};\n\nexport const wsAuthInit: AppThunk = () => {\n  return function (dispatch) {\n    dispatch({\n      type: WS_AUTH_CONNECTION_START,\n    });\n  };\n};\n","import React, { FunctionComponent } from \"react\";\n\nimport { useHistory, useRouteMatch, useLocation } from \"react-router\";\n\n// Стили\nimport ordersStyles from \"./Orders.module.css\";\n// Стили\n\n// Компоненты\nimport RouteBox from \"../../components/RouteBox/RouteBox\";\nimport OrderCard from \"../../components/OrderCard/OrderCard\";\n// Компоненты\n\n// Actions\nimport { wsAuthInit } from \"../../services/actions/wsActions\";\n\nimport { WS_CONNECTION_CLOSED } from \"../../services/actions/wsActions\";\n// Actions\n\n// Types\nimport { TUserOrder } from \"../../types/userOrders\";\nimport { TPriceArr } from \"../../types\";\nimport { TIngridient } from \"../../types/burgerIngridients\";\n\nimport { useDispatch, useSelector } from \"../../types/typedHooks\";\n// Types\n\ninterface IOrdersProps {\n  handleOpenOrderModal: (data: TUserOrder) => void;\n}\n\ntype FC<P = IOrdersProps> = FunctionComponent<P>;\n\nconst Orders: FC<IOrdersProps> = (props) => {\n  const dispatch = useDispatch();\n\n  React.useEffect(() => {\n    dispatch(wsAuthInit());\n    return () => {\n      dispatch({ type: WS_CONNECTION_CLOSED });\n    };\n  }, [dispatch]);\n\n  const ordersData = useSelector((store) => store.userOrders.ordersData);\n  const burgerIngridientsArr = useSelector(\n    (store) => store.burgerIngridients.burgerIngridientsArr\n  );\n\n  const orders = ordersData && ordersData.orders;\n\n  const handleGetIngImage = (ingridientsIds: Array<string>) => {\n    let imagesArr: Array<string> = [];\n    ingridientsIds.map((id: string) => {\n      return burgerIngridientsArr.forEach((item) => {\n        if (item._id === id) {\n          imagesArr.push(item.image!);\n        }\n      });\n    });\n    return imagesArr;\n  };\n\n  const handleGetOrderPrice = (ingridientsIds: Array<string>) => {\n    let totalPriceArr: TPriceArr = [];\n    ingridientsIds.map((id: string) => {\n      return burgerIngridientsArr.forEach((item) => {\n        if (item._id === id) {\n          totalPriceArr.push(item);\n        }\n      });\n    });\n\n    const totalPrice: number = totalPriceArr.reduce(\n      (prev: number, cur: TIngridient): number => {\n        return cur.price! + prev;\n      },\n      0\n    );\n\n    return totalPrice;\n  };\n\n  return (\n    <>\n      <section className={ordersStyles.orders}>\n        <RouteBox />\n        <div className={ordersStyles.container}>\n          {orders &&\n            orders.map((order: TUserOrder) => {\n              const imagesArr = handleGetIngImage(order.ingredients);\n              const totalPrice = handleGetOrderPrice(order.ingredients);\n\n              const createdTime = order.createdAt;\n\n              const time = createdTime.match(/\\d\\d:\\d\\d/gm)![0];\n\n              const day = +createdTime.match(/\\d\\dT/gm)![0].match(/\\d\\d/gm)![0];\n\n              return (\n                <OrderCard\n                  handleOpenOrderModal={() => {\n                    props.handleOpenOrderModal(order);\n                  }}\n                  imagesArr={imagesArr}\n                  totalPrice={totalPrice}\n                  time={time}\n                  day={day}\n                  order={order}\n                  key={order._id}\n                />\n              );\n            })}\n        </div>\n      </section>\n    </>\n  );\n};\n\nexport default Orders;\n","import React, { FunctionComponent } from \"react\";\n\n// Стили\nimport feedCardStyles from \"./FeedCard.module.css\";\n// Стили\n\n// UI\nimport { CurrencyIcon } from \"@ya.praktikum/react-developer-burger-ui-components\";\n// UI\n\nimport { Link, useLocation } from \"react-router-dom\";\n\n// Types\nimport { TLocation } from \"../../types\";\nimport { TFeedOrder } from \"../../types/feed\";\nimport { TImages, TPriceArr } from \"../../types\";\n// Types\n\ninterface IFeedCardProps {\n  order: TFeedOrder;\n  day: number;\n  time: string;\n  key: string;\n  images: TImages;\n  price: number;\n  handleOpenFeedModal: () => void;\n}\n\ntype FC<P = {}> = FunctionComponent<P>;\n\nconst FeedCard: FC<IFeedCardProps> = (props) => {\n  const [imageArr, setImageArr] = React.useState<TImages>();\n\n  const location = useLocation<TLocation>();\n  const date = new Date();\n  const todayDay = date.getDate();\n\n  React.useEffect(() => {\n    if (props.images) {\n      props.images.length > 5\n        ? setImageArr(props.images.slice(0, 6))\n        : setImageArr(props.images);\n    }\n  }, [props.images]);\n\n  return (\n    <Link\n      className={feedCardStyles.link}\n      onClick={props.handleOpenFeedModal}\n      to={{\n        pathname: `/feed/${props.order._id}`,\n        state: { background: location },\n      }}\n    >\n      <div className={feedCardStyles.card}>\n        <div className={feedCardStyles.box}>\n          <p className={`${feedCardStyles.code} text text_type_digits-default`}>\n            #{props.order.number}\n          </p>\n          <p\n            className={`${feedCardStyles.time} text text_type_main-default text_color_inactive`}\n          >\n            {todayDay === props.day\n              ? `Сегодня, `\n              : todayDay - props.day === 1\n              ? `${todayDay - props.day} день назад, `\n              : `${todayDay - props.day} дня назад, `}\n            {props.time} i-GMT+3\n          </p>\n        </div>\n        <p className={`${feedCardStyles.name} text text_type_main-medium`}>\n          {props.order.name}\n        </p>\n        <div className={feedCardStyles.burger_info}>\n          <ul className={feedCardStyles.images_list}>\n            {imageArr &&\n              imageArr.map((src, index) => {\n                let leftMove;\n\n                if (index) {\n                  leftMove = -10 * index;\n                }\n\n                const lastImage =\n                  index === 5 && props.images.length > 6 ? true : false;\n\n                return (\n                  <li\n                    className={feedCardStyles.image_li}\n                    style={{ left: leftMove }}\n                    key={index}\n                  >\n                    <img\n                      src={src}\n                      alt=\"test\"\n                      className={`\n                    ${feedCardStyles.image}\n                      ${\n                        lastImage\n                          ? feedCardStyles.lastImage\n                          : feedCardStyles.image\n                      }`}\n                    />\n                    <p\n                      className={`text text_type_digits-default ${\n                        lastImage\n                          ? feedCardStyles.image_number\n                          : feedCardStyles.image_number_none\n                      }`}\n                    >\n                      +\n                      {props.images &&\n                        imageArr &&\n                        props.images.length - imageArr.length}\n                    </p>\n                  </li>\n                );\n              })}\n          </ul>\n          <div className={feedCardStyles.price_box}>\n            <p\n              className={`${feedCardStyles.price} text text_type_digits-default`}\n            >\n              {props.price}\n            </p>\n            <CurrencyIcon type={\"secondary\"} />\n          </div>\n        </div>\n      </div>\n    </Link>\n  );\n};\n\nexport default FeedCard;\n","import React, { FunctionComponent } from \"react\";\n\n// Стили\nimport feedStyles from \"./Feed.module.css\";\n// Стили\n\nimport { wsInit } from \"../../services/actions/wsActions\";\n\n// Компоненты\nimport FeedCard from \"../../components/FeedCard/FeedCard\";\n// Компоненты\n\n// Redux\nimport { WS_CONNECTION_CLOSED } from \"../../services/actions/wsActions\";\n// Redux\n\n// Types\nimport { TFeedOrder } from \"../../types/feed\";\nimport { TIngridients, TImages, TPriceArr } from \"../../types\";\n\nimport { useDispatch, useSelector } from \"../../types/typedHooks\";\nimport { TIngridient } from \"../../types/burgerIngridients\";\n// Types\n\ninterface IFeedProps {\n  handleOpenFeedModal: (data: TFeedOrder) => void;\n}\n\ntype FC<P = IFeedProps> = FunctionComponent<P>;\n\nconst Feed: FC<IFeedProps> = (props) => {\n  const dispatch = useDispatch();\n\n  React.useEffect(() => {\n    dispatch(wsInit());\n    return () => {\n      dispatch({ type: WS_CONNECTION_CLOSED });\n    };\n  }, [dispatch]);\n\n  const { feedData } = useSelector((store) => store.feed);\n\n  const burgerIngridientsArr = useSelector(\n    (store) => store.burgerIngridients.burgerIngridientsArr\n  );\n\n  const orders = feedData && feedData.orders;\n\n  const doneOrders =\n    orders &&\n    orders\n      .filter((order: TFeedOrder) => {\n        return order.status === \"done\";\n      })\n      .slice(0, 20);\n\n  const inProcessOrders =\n    orders &&\n    orders\n      .filter((order: TFeedOrder) => {\n        return order.status === \"pending\";\n      })\n      .slice(0, 20);\n\n  const handleGetIngImage = (ingridientsIds: TIngridients) => {\n    let imagesArr: TImages = [];\n    ingridientsIds.map((id: string) => {\n      return burgerIngridientsArr.forEach((item) => {\n        if (item._id === id) {\n          imagesArr.push(item!.image!);\n        }\n      });\n    });\n    return imagesArr;\n  };\n\n  const handleGetOrderPrice = (ingridientsIds: TIngridients) => {\n    let totalPriceArr: TPriceArr = [];\n    ingridientsIds.map((id: string) => {\n      return burgerIngridientsArr.forEach((item) => {\n        if (item._id === id) {\n          totalPriceArr.push(item);\n        }\n      });\n    });\n\n    const totalPrice: number = totalPriceArr.reduce(\n      (prev: number, cur: TIngridient) => {\n        return cur!.price! + prev;\n      },\n      0\n    );\n\n    return totalPrice;\n  };\n\n  const openFeedModalHandler = (orderData: TFeedOrder) => {\n    props.handleOpenFeedModal(orderData);\n  };\n\n  return (\n    <>\n      <section className={feedStyles.feed}>\n        <div className={feedStyles.container}>\n          <h2 className={feedStyles.title}>Лента заказов</h2>\n          <div className={feedStyles.box}>\n            <div className={`${feedStyles.orders} mr-15`}>\n              {orders &&\n                orders.map((item: TFeedOrder) => {\n                  const createdTime: string = item! && item!.createdAt!;\n\n                  const time =\n                    createdTime && createdTime.match(/\\d\\d:\\d\\d/gm)![0];\n\n                  const dayString: string =\n                    createdTime &&\n                    createdTime.match(/\\d\\dT/gm)![0].match(/\\d\\d/gm)![0];\n\n                  const day: number = Number.parseInt(dayString);\n                  const images = handleGetIngImage(item.ingredients);\n                  const price = handleGetOrderPrice(item.ingredients);\n\n                  return (\n                    <FeedCard\n                      order={item}\n                      day={day}\n                      time={time}\n                      key={item._id}\n                      images={images}\n                      price={price}\n                      handleOpenFeedModal={() => {\n                        openFeedModalHandler(item);\n                      }}\n                    />\n                  );\n                })}\n            </div>\n            <div className={feedStyles.statistic}>\n              <div className={`${feedStyles.processes} mb-15`}>\n                <div className={`${feedStyles.done} mr-9`}>\n                  <p\n                    className={`${feedStyles.title} mb-6 text text_type_main-default`}\n                  >\n                    Готовы:\n                  </p>\n                  <ul className={feedStyles.done_list}>\n                    {doneOrders &&\n                      doneOrders.map((order: TFeedOrder) => {\n                        return (\n                          <li\n                            className={`${feedStyles.done_li} mb-2 text text_type_digits-default`}\n                            key={order._id}\n                          >\n                            {order.number}\n                          </li>\n                        );\n                      })}\n                  </ul>\n                </div>\n                <div className={feedStyles.in_work}>\n                  <p\n                    className={`${feedStyles.title} mb-6 text text_type_main-default`}\n                  >\n                    В работе:\n                  </p>\n                  <ul className={feedStyles.in_work_list}>\n                    {inProcessOrders &&\n                      inProcessOrders.map((order: TFeedOrder) => {\n                        return (\n                          <li\n                            className={`${feedStyles.in_work_li} mb-2 text text_type_digits-default`}\n                            key={order._id}\n                          >\n                            {order.number}\n                          </li>\n                        );\n                      })}\n                  </ul>\n                </div>\n              </div>\n              <div className={`${feedStyles.done_all_time} mb-16`}>\n                <p\n                  className={`${feedStyles.title} text text_type_main-default`}\n                >\n                  Выполнено за все время:\n                </p>\n                <p\n                  className={`${feedStyles.number} text text_type_digits-large`}\n                >\n                  {feedData && feedData.total}\n                </p>\n              </div>\n              <div className={feedStyles.done_today}>\n                <p\n                  className={`${feedStyles.title} text text_type_main-default`}\n                >\n                  Выполнено за сегодня:\n                </p>\n                <p\n                  className={`${feedStyles.number} text text_type_digits-large`}\n                >\n                  {feedData && feedData.totalToday}\n                </p>\n              </div>\n            </div>\n          </div>\n        </div>\n      </section>\n    </>\n  );\n};\n\nexport default Feed;\n","import { useEffect, FunctionComponent, ReactNode } from \"react\";\nimport { Route, Redirect } from \"react-router-dom\";\n\nimport { useDispatch } from \"react-redux\";\n\nimport { getCookie } from \"../../utils/cookie\";\n\nimport { handleGetUserData } from \"../../services/actions/auth\";\n\ninterface IProtectedRouteProps {\n  children?: ReactNode;\n  path: string;\n  exact: boolean;\n}\n\ntype FC<P = IProtectedRouteProps> = FunctionComponent<P>;\n\nexport const ProtectedRoute: FC<IProtectedRouteProps> = ({\n  children,\n  ...rest\n}) => {\n  const dispatch = useDispatch();\n\n  const init = async () => {\n    const accessToken = getCookie(\"accessToken\");\n    if (accessToken) dispatch(handleGetUserData());\n  };\n\n  useEffect(() => {\n    init();\n  }, []);\n\n  if (!getCookie(\"accessToken\")) {\n    return (\n      <Route\n        {...rest}\n        render={({ location }) => {\n          return (\n            <Redirect\n              to={{\n                pathname: \"/login\",\n                state: { from: location },\n              }}\n            />\n          );\n        }}\n      />\n    );\n  }\n\n  return <Route {...rest}>{children}</Route>;\n};\n\nexport default ProtectedRoute;\n","import { FunctionComponent, ReactNode } from \"react\";\nimport { Route, Redirect } from \"react-router-dom\";\n\n// Types\nimport { useSelector } from \"../../types/typedHooks\";\n// Types\n\ninterface IProtectedAuthorizedProps {\n  children?: ReactNode;\n  path: string;\n}\n\ntype FC<P = {}> = FunctionComponent<P>;\nconst ProtectedAuthorized: FC<IProtectedAuthorizedProps> = ({\n  children,\n  ...rest\n}) => {\n  const user = useSelector((state) => state.authUser.user);\n\n  const isUser = user.email !== \"\" && user.name !== \"\";\n\n  return (\n    <Route\n      {...rest}\n      render={() => (!isUser ? children : <Redirect to=\"/\" />)}\n    />\n  );\n};\n\nexport default ProtectedAuthorized;\n","import React from \"react\";\n\nimport { useParams } from \"react-router\";\n\n// Types\nimport { TIngridient } from \"../../types/burgerIngridients\";\n// Types\n\n// СТИЛИ\nimport ingridientsIdPageStyles from \"./IngridientsIdPage.module.css\";\n// СТИЛИ\n\n// Types\nimport { useSelector } from \"../../types/typedHooks\";\n// Types\n\nfunction IngridientsIdPage() {\n  const [currentIng, setCurrentIng] = React.useState<TIngridient>();\n\n  const { id } = useParams<{ id?: string }>();\n\n  const { burgerIngridientsArr } = useSelector(\n    (state) => state.burgerIngridients\n  );\n\n  React.useEffect(() => {\n    let ingridient;\n    burgerIngridientsArr.forEach((ing: TIngridient) => {\n      if (ing._id === id) ingridient = ing;\n    });\n\n    setCurrentIng(ingridient);\n  }, [burgerIngridientsArr, id]);\n\n  return (\n    <>\n      <div className={ingridientsIdPageStyles.ingridients}>\n        <h2\n          className={`${ingridientsIdPageStyles.title} text text_type_main-large`}\n        >\n          Детали ингредиента\n        </h2>\n        <img\n          src={currentIng && currentIng.image_large}\n          alt={currentIng && currentIng.name}\n          className={ingridientsIdPageStyles.image}\n        />\n        <div className={`${ingridientsIdPageStyles.container} mt-4 mb-15`}>\n          <h2 className={ingridientsIdPageStyles.title}>\n            {currentIng && currentIng.name}\n          </h2>\n          <div className={`${ingridientsIdPageStyles.nutrients} mt-8`}>\n            <div className={`${ingridientsIdPageStyles.nutrient} mr-5`}>\n              <h3 className={ingridientsIdPageStyles.nutrient_title}>\n                Калории,ккал\n              </h3>\n              <p className={ingridientsIdPageStyles.nutrient_text}>\n                {currentIng && currentIng.calories}\n              </p>\n            </div>\n            <div className={`${ingridientsIdPageStyles.nutrient} mr-5`}>\n              <h3 className={ingridientsIdPageStyles.nutrient_title}>\n                Белки, г\n              </h3>\n              <p className={ingridientsIdPageStyles.nutrient_text}>\n                {currentIng && currentIng.proteins}\n              </p>\n            </div>\n            <div className={`${ingridientsIdPageStyles.nutrient} mr-5`}>\n              <h3 className={ingridientsIdPageStyles.nutrient_title}>\n                Жиры, г\n              </h3>\n              <p className={ingridientsIdPageStyles.nutrient_text}>\n                {currentIng && currentIng.fat}\n              </p>\n            </div>\n            <div className={`${ingridientsIdPageStyles.nutrient} mr-5`}>\n              <h3 className={ingridientsIdPageStyles.nutrient_title}>\n                Углеводы, г\n              </h3>\n              <p className={ingridientsIdPageStyles.nutrient_text}>\n                {currentIng && currentIng.carbohydrates}\n              </p>\n            </div>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n}\n\nexport default IngridientsIdPage;\n","import React from \"react\";\n\nimport { Link, useHistory } from \"react-router-dom\";\n\n// Стили\nimport notFoundPageStyles from \"./NotFoundPage.module.css\";\n// Стили\n\nfunction NotFoundPage() {\n  const history = useHistory();\n\n  const handleGoBack = (): void => {\n    history.goBack();\n  };\n\n  return (\n    <section className={notFoundPageStyles.not_found}>\n      <p\n        className={`${notFoundPageStyles.error} text text_type_digits-large mb-25`}\n      >\n        404\n      </p>\n      <h2\n        className={`${notFoundPageStyles.title} text text_type_main-medium mb-10`}\n      >\n        Страница не найдена :(\n      </h2>\n      <button\n        onClick={handleGoBack}\n        className={`text text_type_main-medium ${notFoundPageStyles.go_back}`}\n      >\n        Назад\n      </button>\n    </section>\n  );\n}\n\nexport default NotFoundPage;\n","import { TUserOrder } from \"../types/userOrders\";\r\nimport { TFeedOrder } from \"../types/feed\";\r\n\r\nexport type TReturnObj = {\r\n  todayDay: number;\r\n  time: string;\r\n  day: number;\r\n};\r\n\r\nconst getTimeAndDay = (obj: TUserOrder | TFeedOrder | undefined) => {\r\n  const date = new Date();\r\n  const todayDay: number = date.getDate();\r\n\r\n  const createdTime: string = obj! && obj!.createdAt!;\r\n\r\n  const time: string = createdTime && createdTime.match(/\\d\\d:\\d\\d/gm)![0];\r\n\r\n  const dayString: string =\r\n    createdTime && createdTime.match(/\\d\\dT/gm)![0].match(/\\d\\d/gm)![0];\r\n\r\n  const day: number = Number.parseInt(dayString);\r\n\r\n  const returnObj: TReturnObj = {\r\n    todayDay,\r\n    time,\r\n    day,\r\n  };\r\n\r\n  return returnObj;\r\n};\r\n\r\nexport default getTimeAndDay;\r\n","import React, { FunctionComponent } from \"react\";\n\n// Стили\nimport modalStyles from \"./FeedOrderModal.module.css\";\n// Стили\n\nimport { CurrencyIcon } from \"@ya.praktikum/react-developer-burger-ui-components\";\n\n// Utils\nimport getTimeAndDay from \"../../utils/getTimeAndDay\";\nimport { TReturnObj } from \"../../utils/getTimeAndDay\";\n// Utils\n\n// Types\nimport { TFeedOrder } from \"../../types/feed\";\nimport { TCounter } from \"../../types\";\n\nimport { useSelector } from \"../../types/typedHooks\";\nimport { TIngridient } from \"../../types/burgerIngridients\";\n// Types\n\ninterface IFeedOrderModalProps {\n  feedOrderData?: TFeedOrder;\n}\n\ntype FC<P = IFeedOrderModalProps> = FunctionComponent<P>;\n\nconst FeedOrderModal: FC<IFeedOrderModalProps> = (props) => {\n  const [totalPrice, setTotalPrice] = React.useState<number>();\n\n  const [ingridient, setIngridient] = React.useState<TIngridient>();\n\n  const [filteredIngridients, setFilteredIngridients] =\n    React.useState<Array<string>>();\n\n  const burgerIngridientsArr = useSelector(\n    (store) => store.burgerIngridients.burgerIngridientsArr\n  );\n\n  const returnObj: TReturnObj | undefined =\n    props.feedOrderData && getTimeAndDay(props.feedOrderData);\n\n  React.useEffect(() => {\n    let totalPriceArr: Array<TIngridient> = [];\n    props.feedOrderData &&\n      props.feedOrderData.ingredients.map((id) => {\n        return burgerIngridientsArr.forEach((item) => {\n          if (item._id === id) {\n            totalPriceArr.push(item);\n          }\n        });\n      });\n\n    const totalPrice: number = totalPriceArr.reduce((prev, cur): number => {\n      return cur.price! + prev;\n    }, 0);\n\n    setTotalPrice(totalPrice);\n  }, [burgerIngridientsArr, props.feedOrderData]);\n\n  React.useEffect(() => {\n    const uniqueArray =\n      props.feedOrderData &&\n      props.feedOrderData.ingredients.filter(function (item, pos) {\n        return props.feedOrderData?.ingredients.indexOf(item) === pos;\n      });\n\n    setFilteredIngridients(uniqueArray);\n  }, [props.feedOrderData]);\n\n  const counters = React.useMemo(() => {\n    const counter: TCounter = {};\n    props.feedOrderData &&\n      props.feedOrderData.ingredients.forEach((id) => {\n        if (!counter[id]) counter[id] = 0;\n        counter[id]++;\n      });\n    return counter;\n  }, [props.feedOrderData]);\n\n  return (\n    <div className={modalStyles.container}>\n      <div className={modalStyles.info}>\n        <p className={`text text_type_digits-default ${modalStyles.number}`}>\n          #{props.feedOrderData && props.feedOrderData.number}\n        </p>\n        <p className={`text text_type_main-medium ${modalStyles.name}`}>\n          {props.feedOrderData && props.feedOrderData.name}\n        </p>\n        <p className={`text text_type_main-small ${modalStyles.status}`}>\n          {props.feedOrderData && props.feedOrderData.status\n            ? \"Выполнен\"\n            : \"В процессе\"}\n        </p>\n      </div>\n      <div className={modalStyles.structure}>\n        <h2 className={modalStyles.title}>Состав:</h2>\n        <ul className={modalStyles.list}>\n          {filteredIngridients &&\n            filteredIngridients.map((ingId) => {\n              let ingredient: TIngridient = {};\n              burgerIngridientsArr.forEach((item) => {\n                if (item._id === ingId) {\n                  ingredient = item;\n                }\n              });\n              return (\n                <li className={modalStyles.li} key={ingId}>\n                  <img\n                    className={modalStyles.image}\n                    src={ingredient && ingredient.image}\n                    alt={ingredient && ingredient.name}\n                  />\n                  <p className={`text ${modalStyles.ing_name}`}>\n                    {ingredient && ingredient.name}\n                  </p>\n                  <div className={modalStyles.price_box}>\n                    <p className={modalStyles.price}>\n                      {counters[ingId] > 1 ? counters[ingId] + ` x ` : \"\"}\n                      {ingredient && ingredient.price}\n                    </p>\n                    <CurrencyIcon type={\"secondary\"} />\n                  </div>\n                </li>\n              );\n            })}\n        </ul>\n        <div className={modalStyles.box}>\n          <p\n            className={`text text_type_main-default text_color_inactive ${modalStyles.time}`}\n          >\n            {returnObj!.todayDay === Number(returnObj!.day)\n              ? `Сегодня, `\n              : returnObj!.todayDay - Number(returnObj!.day) === 1\n              ? `${returnObj!.todayDay - Number(returnObj!.day)} день назад, `\n              : `${returnObj!.todayDay - Number(returnObj!.day)} дня назад, `}\n            {returnObj!.time} i-GMT+3\n          </p>\n          <div className={modalStyles.price_box}>\n            <p className={modalStyles.price}>{totalPrice}</p>\n            <CurrencyIcon type={\"secondary\"} />\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default FeedOrderModal;\n","import React, { FunctionComponent } from \"react\";\n\n// Стили\nimport modalStyles from \"./UserOrderModal.module.css\";\n// Стили\n\nimport { CurrencyIcon } from \"@ya.praktikum/react-developer-burger-ui-components\";\n\n// Utils\nimport getTimeAndDay from \"../../utils/getTimeAndDay\";\nimport { TReturnObj } from \"../../utils/getTimeAndDay\";\n// Utils\n\n// Types\nimport { TUserOrder } from \"../../types/userOrders\";\nimport { TIngridient } from \"../../types/burgerIngridients\";\nimport { TCounter } from \"../../types\";\n\nimport { useSelector } from \"../../types/typedHooks\";\n// Types\n\ninterface IUserOrderModalProps {\n  userOrderData?: TUserOrder;\n}\n\ntype FC<P = IUserOrderModalProps> = FunctionComponent<P>;\n\nconst UserOrderModal: FC<IUserOrderModalProps> = (props) => {\n  const [totalPrice, setTotalPrice] = React.useState<number>();\n  const [currentIngridient, setCurrenstIngridient] =\n    React.useState<TIngridient>();\n  const [filteredIngridients, setFilteredIngridients] =\n    React.useState<Array<string>>();\n\n  const burgerIngridientsArr = useSelector(\n    (store) => store.burgerIngridients.burgerIngridientsArr\n  );\n\n  const returnObj: TReturnObj | undefined =\n    props.userOrderData && getTimeAndDay(props.userOrderData);\n\n  React.useEffect(() => {\n    let totalPriceArr: Array<TIngridient> = [];\n    props.userOrderData &&\n      props.userOrderData.ingredients.map((id) => {\n        return burgerIngridientsArr.forEach((item) => {\n          if (item._id === id) {\n            totalPriceArr.push(item);\n          }\n        });\n      });\n\n    const totalPrice = totalPriceArr.reduce((prev, cur): number => {\n      return cur.price! + prev;\n    }, 0);\n\n    setTotalPrice(totalPrice);\n  }, [burgerIngridientsArr, props.userOrderData]);\n\n  React.useEffect(() => {\n    const uniqueArray =\n      props.userOrderData &&\n      props.userOrderData.ingredients.filter(function (item, pos) {\n        return props.userOrderData!.ingredients.indexOf(item) === pos;\n      });\n\n    setFilteredIngridients(uniqueArray);\n  }, [props.userOrderData]);\n\n  const counters = React.useMemo(() => {\n    const counter: TCounter = {};\n    props.userOrderData &&\n      props.userOrderData.ingredients.forEach((id) => {\n        if (!counter[id]) counter[id] = 0;\n        counter[id]++;\n      });\n    return counter;\n  }, [props.userOrderData]);\n\n  return (\n    <div className={modalStyles.container}>\n      <div className={modalStyles.info}>\n        <p className={`text text_type_digits-default ${modalStyles.number}`}>\n          #{props.userOrderData && props.userOrderData.number}\n        </p>\n        <p className={`text text_type_main-medium ${modalStyles.name}`}>\n          {props.userOrderData && props.userOrderData.name}\n        </p>\n        <p className={`text text_type_main-small ${modalStyles.status}`}>\n          {props.userOrderData && props.userOrderData.status\n            ? \"Выполнен\"\n            : \"В процессе\"}\n        </p>\n      </div>\n      <div className={modalStyles.structure}>\n        <h2 className={modalStyles.title}>Состав:</h2>\n        <ul className={modalStyles.list}>\n          {filteredIngridients &&\n            filteredIngridients.map((ingId) => {\n              let ingredient: TIngridient = {};\n              burgerIngridientsArr.forEach((item) => {\n                if (item._id === ingId) {\n                  ingredient = item;\n                }\n              });\n\n              return (\n                <li className={modalStyles.li} key={ingId}>\n                  <img\n                    className={modalStyles.image}\n                    src={ingredient && ingredient.image}\n                    alt={ingredient && ingredient.name}\n                  />\n                  <p className={`text ${modalStyles.ing_name}`}>\n                    {ingredient && ingredient.name}\n                  </p>\n                  <div className={modalStyles.price_box}>\n                    <p className={modalStyles.price}>\n                      {counters[ingId] > 1 ? counters[ingId] + ` x ` : \"\"}\n                      {ingredient && ingredient.price}\n                    </p>\n                    <CurrencyIcon type={\"secondary\"} />\n                  </div>\n                </li>\n              );\n            })}\n        </ul>\n        <div className={modalStyles.box}>\n          <p\n            className={`text text_type_main-default text_color_inactive ${modalStyles.time}`}\n          >\n            {returnObj!.todayDay === returnObj!.day\n              ? `Сегодня, `\n              : returnObj!.todayDay - returnObj!.day === 1\n              ? `${returnObj!.todayDay - returnObj!.day} день назад, `\n              : `${returnObj!.todayDay - returnObj!.day} дня назад, `}\n            {returnObj!.time} i-GMT+3\n          </p>\n          <div className={modalStyles.price_box}>\n            <p className={modalStyles.price}>{totalPrice}</p>\n            <CurrencyIcon type={\"secondary\"} />\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default UserOrderModal;\n","import React, { FunctionComponent } from \"react\";\n\n// Стили\nimport pageStyles from \"./FeedOrderPage.module.css\";\n// Стили\n\n// Actions\nimport { wsInit } from \"../../services/actions/wsActions\";\n// Actions\n\n// Utils\nimport getTimeAndDay from \"../../utils/getTimeAndDay\";\nimport { TReturnObj } from \"../../utils/getTimeAndDay\";\n// Utils\n\n// Yandex UI\nimport { CurrencyIcon } from \"@ya.praktikum/react-developer-burger-ui-components\";\n// Yandex UI\n\nimport { useParams } from \"react-router\";\n\n// Types\nimport { TFeedOrder } from \"../../types/feed\";\nimport { TIngridient } from \"../../types/burgerIngridients\";\nimport { TCounter } from \"../../types\";\n\nimport { useDispatch, useSelector } from \"../../types/typedHooks\";\n// Types\n\ntype FC<P = {}> = FunctionComponent<P>;\n\nconst FeedOrderPage: FC<{}> = () => {\n  const [currentOrder, setCurrentOrder] = React.useState<TFeedOrder>();\n  const [totalPrice, setTotalPrice] = React.useState<number>();\n\n  const [filteredIngridients, setFilteredIngridients] =\n    React.useState<Array<string>>();\n\n  const dispatch = useDispatch();\n\n  const { id } = useParams<{ id?: string }>();\n\n  React.useEffect(() => {\n    dispatch(wsInit());\n  }, [dispatch]);\n\n  const { burgerIngridientsArr } = useSelector(\n    (state) => state.burgerIngridients\n  );\n\n  const { feedData } = useSelector((store) => store.feed);\n\n  const orders = feedData && feedData.orders;\n\n  React.useEffect(() => {\n    let order;\n    orders &&\n      orders.forEach((ord: TFeedOrder) => {\n        if (ord._id === id) order = ord;\n      });\n    setCurrentOrder(order);\n  }, [id, orders]);\n\n  const returnObj: TReturnObj | undefined =\n    currentOrder && getTimeAndDay(currentOrder);\n  React.useEffect(() => {\n    let totalPriceArr: Array<TIngridient> = [];\n    currentOrder &&\n      currentOrder.ingredients.map((id) => {\n        return burgerIngridientsArr.forEach((item) => {\n          if (item._id === id) {\n            totalPriceArr.push(item);\n          }\n        });\n      });\n\n    const totalPrice: number = totalPriceArr.reduce(\n      (prev: number, cur: TIngridient): number => {\n        return cur.price! + prev;\n      },\n      0\n    );\n\n    setTotalPrice(totalPrice);\n  }, [burgerIngridientsArr, currentOrder]);\n\n  React.useEffect(() => {\n    const uniqueArray: Array<string> | undefined =\n      currentOrder &&\n      currentOrder.ingredients.filter(function (item: string, pos: number) {\n        return currentOrder.ingredients.indexOf(item) === pos;\n      });\n\n    setFilteredIngridients(uniqueArray);\n  }, [currentOrder]);\n\n  const counters = React.useMemo(() => {\n    const counter: TCounter = {};\n    currentOrder &&\n      currentOrder.ingredients.forEach((id: string) => {\n        if (!counter[id]) counter[id] = 0;\n        counter[id]++;\n      });\n    return counter;\n  }, [currentOrder]);\n\n  return (\n    <>\n      <div className={pageStyles.container}>\n        <div className={pageStyles.info}>\n          <p className={`text text_type_digits-default ${pageStyles.number}`}>\n            #{currentOrder && currentOrder.number}\n          </p>\n          <p className={`text text_type_main-medium ${pageStyles.name}`}>\n            {currentOrder && currentOrder.name}\n          </p>\n          <p className={`text text_type_main-small ${pageStyles.status}`}>\n            {currentOrder && currentOrder.status ? \"Выполнен\" : \"В процессе\"}\n          </p>\n        </div>\n        <div className={pageStyles.structure}>\n          <h2 className={pageStyles.title}>Состав:</h2>\n          <ul className={pageStyles.list}>\n            {filteredIngridients &&\n              filteredIngridients.map((ingId: string) => {\n                let ingridient: TIngridient = {};\n\n                burgerIngridientsArr.forEach((item) => {\n                  if (item._id === ingId) {\n                    ingridient = item;\n                  }\n                });\n\n                return (\n                  <li className={pageStyles.li} key={ingId}>\n                    <img\n                      className={pageStyles.image}\n                      src={ingridient && ingridient.image}\n                      alt={ingridient && ingridient.name}\n                    />\n                    <p className={`text ${pageStyles.ing_name}`}>\n                      {ingridient && ingridient.name}\n                    </p>\n                    <div className={pageStyles.price_box}>\n                      <p className={pageStyles.price}>\n                        {counters[ingId] > 1 ? counters[ingId] + ` x ` : \"\"}\n                        {ingridient.price}\n                      </p>\n                      <CurrencyIcon type={\"secondary\"} />\n                    </div>\n                  </li>\n                );\n              })}\n          </ul>\n          <div className={pageStyles.box}>\n            <p\n              className={`text text_type_main-default text_color_inactive ${pageStyles.time}`}\n            >\n              {returnObj?.todayDay === returnObj?.day\n                ? `Сегодня, `\n                : returnObj!.todayDay - returnObj!.day === 1\n                ? `${returnObj!.todayDay - returnObj!.day} день назад, `\n                : `${returnObj!.todayDay - returnObj!.day} дня назад, `}\n              {returnObj?.time} i-GMT+3\n            </p>\n            <div className={pageStyles.price_box}>\n              <p className={pageStyles.price}>{totalPrice}</p>\n              <CurrencyIcon type={\"secondary\"} />\n            </div>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default FeedOrderPage;\n","import React from \"react\";\nimport { useParams } from \"react-router-dom\";\n\n// Стили\nimport pageStyles from \"./UserOrderPage.module.css\";\n// Стили\n\n// Actions\nimport { wsAuthInit } from \"../../services/actions/wsActions\";\n// Actions\n\n// Utils\nimport getTimeAndDay from \"../../utils/getTimeAndDay\";\nimport { TReturnObj } from \"../../utils/getTimeAndDay\";\n// Utils\n\n// Yandex UI\nimport { CurrencyIcon } from \"@ya.praktikum/react-developer-burger-ui-components\";\n// Yandex UI\n\n// Types\nimport { TUserOrder } from \"../../types/userOrders\";\nimport { TIngridient } from \"../../types/burgerIngridients\";\nimport { TCounter } from \"../../types\";\n\nimport { useDispatch, useSelector } from \"../../types/typedHooks\";\n// Types\n\nfunction UserOrderPage() {\n  const [currentOrder, setCurrentOrder] = React.useState<TUserOrder>();\n  const [totalPrice, setTotalPrice] = React.useState<number>();\n\n  const [filteredIngridients, setFilteredIngridients] =\n    React.useState<Array<string>>();\n\n  const dispatch = useDispatch();\n\n  const { id } = useParams<{ id?: string }>();\n\n  React.useEffect(() => {\n    dispatch(wsAuthInit());\n  }, [dispatch]);\n\n  const { burgerIngridientsArr } = useSelector(\n    (state) => state.burgerIngridients\n  );\n\n  const ordersData = useSelector((store) => store.userOrders.ordersData);\n\n  const orders = ordersData && ordersData.orders;\n\n  React.useEffect(() => {\n    let order;\n    orders &&\n      orders.forEach((ord: TUserOrder) => {\n        if (ord._id === id) order = ord;\n      });\n    setCurrentOrder(order);\n  }, [id, orders]);\n\n  const returnObj: TReturnObj | undefined =\n    currentOrder && getTimeAndDay(currentOrder);\n\n  React.useEffect(() => {\n    let totalPriceArr: Array<TIngridient> = [];\n    currentOrder &&\n      currentOrder.ingredients.map((id) => {\n        return burgerIngridientsArr.forEach((item) => {\n          if (item._id === id) {\n            totalPriceArr.push(item);\n          }\n        });\n      });\n\n    const totalPrice: number = totalPriceArr.reduce(\n      (prev: number, cur: TIngridient): number => {\n        return cur.price! + prev;\n      },\n      0\n    );\n\n    setTotalPrice(totalPrice);\n  }, [burgerIngridientsArr, currentOrder]);\n\n  React.useEffect(() => {\n    const uniqueArray =\n      currentOrder &&\n      currentOrder.ingredients.filter(function (item, pos) {\n        return currentOrder.ingredients.indexOf(item) === pos;\n      });\n    setFilteredIngridients(uniqueArray);\n  }, [currentOrder]);\n\n  const counters = React.useMemo(() => {\n    const counter: TCounter = {};\n    currentOrder &&\n      currentOrder.ingredients.forEach((id) => {\n        if (!counter[id]) counter[id] = 0;\n        counter[id]++;\n      });\n    return counter;\n  }, [currentOrder]);\n\n  return (\n    <>\n      <div className={pageStyles.container}>\n        <div className={pageStyles.info}>\n          <p className={`text text_type_digits-default ${pageStyles.number}`}>\n            #{currentOrder && currentOrder.number}\n          </p>\n          <p className={`text text_type_main-medium ${pageStyles.name}`}>\n            {currentOrder && currentOrder.name}\n          </p>\n          <p className={`text text_type_main-small ${pageStyles.status}`}>\n            {currentOrder && currentOrder.status ? \"Выполнен\" : \"В процессе\"}\n          </p>\n        </div>\n        <div className={pageStyles.structure}>\n          <h2 className={pageStyles.title}>Состав:</h2>\n          <ul className={pageStyles.list}>\n            {filteredIngridients &&\n              filteredIngridients.map((ingId: string) => {\n                let ingridient: TIngridient = {};\n\n                burgerIngridientsArr.forEach((item) => {\n                  if (item._id === ingId) {\n                    ingridient = item;\n                  }\n                });\n\n                return (\n                  <li className={pageStyles.li} key={ingId}>\n                    <img\n                      className={pageStyles.image}\n                      src={ingridient && ingridient.image}\n                      alt={ingridient && ingridient.name}\n                    />\n                    <p className={`text ${pageStyles.ing_name}`}>\n                      {ingridient && ingridient.name}\n                    </p>\n                    <div className={pageStyles.price_box}>\n                      <p className={pageStyles.price}>\n                        {counters[ingId] > 1 ? counters[ingId] + ` x ` : \"\"}\n                        {ingridient.price}\n                      </p>\n                      <CurrencyIcon type={\"secondary\"} />\n                    </div>\n                  </li>\n                );\n              })}\n          </ul>\n          <div className={pageStyles.box}>\n            <p\n              className={`text text_type_main-default text_color_inactive ${pageStyles.time}`}\n            >\n              {returnObj?.todayDay === returnObj?.day\n                ? `Сегодня, `\n                : returnObj!.todayDay! - returnObj!.day === 1\n                ? `${returnObj!.todayDay! - returnObj!.day} день назад, `\n                : `${returnObj!.todayDay! - returnObj!.day!} дня назад, `}\n              {returnObj?.time} i-GMT+3\n            </p>\n            <div className={pageStyles.price_box}>\n              <p className={pageStyles.price}>{totalPrice}</p>\n              <CurrencyIcon type={\"secondary\"} />\n            </div>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n}\n\nexport default UserOrderPage;\n","import { Middleware } from \"redux\";\n\nimport {\n  WS_CONNECTION_CLOSED,\n  WS_CONNECTION_ERROR,\n  WS_CONNECTION_START,\n  WS_CONNECTION_SUCCESS,\n  WS_GET_MESSAGE,\n  WS_SEND_MESSAGE,\n} from \"../actions/wsActions\";\n\nexport const socketMiddleware = (wsUrl: string): Middleware => {\n  return (store) => {\n    let socket: WebSocket | null = null;\n\n    return (next) => (action) => {\n      const { dispatch } = store;\n      const { type, payload } = action;\n\n      if (type === WS_CONNECTION_START) {\n        socket = new WebSocket(`${wsUrl}`);\n      }\n\n      if (socket) {\n        socket.onopen = (event) => {\n          dispatch({ type: WS_CONNECTION_SUCCESS, payload: event });\n        };\n\n        socket.onerror = (event) => {\n          dispatch({ type: WS_CONNECTION_ERROR, payload: event });\n        };\n\n        socket.onmessage = (event) => {\n          const { data } = event;\n          const parsedData = JSON.parse(data);\n          const { success, ...restParsedData } = parsedData;\n\n          dispatch({ type: WS_GET_MESSAGE, payload: restParsedData });\n        };\n\n        socket.onclose = (event) => {\n          dispatch({ type: WS_CONNECTION_CLOSED, payload: event });\n        };\n\n        if (type === WS_SEND_MESSAGE) {\n          const message = { ...payload };\n          socket.send(JSON.stringify(message));\n        }\n      }\n\n      next(action);\n    };\n  };\n};\n","import React, { FunctionComponent } from \"react\";\nimport { Route, Switch, useHistory, useLocation } from \"react-router-dom\";\n\n// Redux\nimport { useDispatch } from \"react-redux\";\n// Redux\n\nimport { handleGetUserData } from \"../../services/actions/auth\";\nimport { getIngridients } from \"../../services/actions/burgerIngridients\";\n\n// Компоненты\nimport AppHeader from \"../AppHeader/AppHeader\";\nimport Main from \"../../pages/Main/Main\";\nimport IngredientDetails from \"../IngredientDetails/IngredientDetails\";\nimport OrderDetails from \"../OrderDetails/OrderDetails\";\nimport Modal from \"../Modal/Modal\";\nimport SignIn from \"../../pages/SignIn/SignIn\";\nimport SignUp from \"../../pages/SignUp/SignUp\";\nimport RecoverPassword from \"../../pages/RecoverPassword/RecoverPassword\";\nimport ResetPassword from \"../../pages/ResetPassword/ResetPassword\";\nimport Profile from \"../../pages/Profile/Profile\";\nimport Orders from \"../../pages/Orders/Orders\";\nimport Feed from \"../../pages/Feed/Feed\";\n\nimport ProtectedRoute from \"../ProtectedRoute/ProtectedRoute\";\nimport ProtectedAuthorized from \"../ProtectedAuthorized/ProtectedAuthorized\";\nimport { getCookie } from \"../../utils/cookie\";\nimport IngridientsIdPage from \"../../pages/IngridientsIdPage/IngridientsIdPage\";\nimport NotFoundPage from \"../../pages/NotFoundPage/NotFoundPage\";\nimport FeedOrderModal from \"../FeedOrderModal/FeedOrderModal\";\nimport UserOrderModal from \"../UserOrderModal/UserOrderModal\";\nimport FeedOrderPage from \"../../pages/FeedOrderPage/FeedOrderPage\";\nimport UserOrderPage from \"../../pages/UserOrderPage/UserOrderPage\";\n// Компоненты\n\n// Types\nimport { TLocation } from \"../../types\";\nimport { TIngridient } from \"../../types/burgerIngridients\";\nimport { TUserOrder } from \"../../types/userOrders\";\nimport { TFeedOrder } from \"../../types/feed\";\n// Types\n\ntype FC<P = {}> = FunctionComponent<P>;\n\nconst App: FC<{}> = () => {\n  const dispatch = useDispatch();\n\n  const history = useHistory();\n\n  const location = useLocation<TLocation>();\n\n  const [isSauce, setIsSauce] = React.useState<boolean>(false);\n  const [isMain, setIsMain] = React.useState<boolean>(false);\n\n  // Переменные состояния для Ingridients modal\n  const [isIngridientModalOpen, setIsIngridientModalOpen] =\n    React.useState<boolean>(false);\n  const [ingridientInfo, setIngridientInfo] = React.useState<TIngridient>();\n  // Переменные состояния для Ingridients modal\n\n  // Переменные состояния для Order modal\n  const [isOrderDetailsOpen, setIsOrderDetailsOpen] =\n    React.useState<boolean>(false);\n  const [userOrderData, setUserrderData] = React.useState<\n    TUserOrder | undefined\n  >();\n  // Переменные состояния для Order modal\n\n  //  Переменные состояния для OrderModal\n  const [isProfileOrderModalOpen, setIsProfileOrderModalOpen] =\n    React.useState(false);\n  //  Переменные состояния для OrderModal\n\n  // Переменные состояния для FeedOrderModalOpen\n  const [isFeedOrderModalOpen, setIsFeedOrderModalOpen] = React.useState(false);\n  const [feedOrderData, setFeedOrderData] = React.useState<TFeedOrder>();\n  // Переменные состояния для FeedOrderModalOpen\n\n  React.useEffect(() => {\n    dispatch(getIngridients());\n    const accessToken = getCookie(\"accessToken\");\n    accessToken && dispatch(handleGetUserData());\n  }, [dispatch]);\n\n  const handleCloseModal = React.useCallback(() => {\n    let backgroundPath: string = \"\";\n    if (location.state) {\n      backgroundPath =\n        location.state.background && location.state.background.pathname;\n    }\n    setIsIngridientModalOpen(false);\n    setIsOrderDetailsOpen(false);\n    setIsFeedOrderModalOpen(false);\n    setIsProfileOrderModalOpen(false);\n    history.push(backgroundPath);\n  }, [history, location.state]);\n\n  React.useEffect(() => {\n    const handleEscClose = (e: KeyboardEvent) => {\n      if (e.key === \"Escape\") {\n        handleCloseModal();\n      }\n    };\n    document.addEventListener(\"keydown\", (e: KeyboardEvent) => {\n      handleEscClose(e);\n    });\n    return () => {\n      document.removeEventListener(\"keydown\", (e: KeyboardEvent) => {\n        handleEscClose(e);\n      });\n    };\n  }, [handleCloseModal]);\n\n  // Indgridients Modal\n  function handleOpenIngridientsModal(item: TIngridient): void {\n    setIsIngridientModalOpen(true);\n    setIngridientInfo(item);\n  }\n  // Indgridients Modal\n\n  //  OrderDetaulsModal\n  function handleOpenOrderDetailsModal(): void {\n    setIsOrderDetailsOpen(true);\n  }\n  //  OrderDetaulsModal\n\n  // OrderModal\n  function handleOpenOrderModal(data: TUserOrder) {\n    setIsProfileOrderModalOpen(true);\n    setUserrderData(data);\n  }\n  // OrderModal\n\n  // FeedOrderModalOpen\n  function handleOpenFeedModal(data: TFeedOrder) {\n    setIsFeedOrderModalOpen(true);\n    setFeedOrderData(data);\n  }\n  // FeedOrderModalOpen\n\n  const background =\n    history.action === \"PUSH\" && location.state && location.state.background;\n\n  const OrderDetailsModal = <OrderDetails />;\n\n  return (\n    <>\n      <AppHeader />\n      <Switch location={background || location}>\n        <Route path=\"/\" exact>\n          <Main\n            handleOpenIngridientsModal={handleOpenIngridientsModal}\n            handleOpenOrderDetailsModal={handleOpenOrderDetailsModal}\n            isSauce={isSauce}\n            isMain={isMain}\n          />\n        </Route>\n        <Route path=\"/ingridients/:id\" exact>\n          <IngridientsIdPage />\n        </Route>\n        <ProtectedAuthorized path=\"/login\">\n          <SignIn />\n        </ProtectedAuthorized>\n        <ProtectedAuthorized path=\"/register\">\n          <SignUp />\n        </ProtectedAuthorized>\n        <ProtectedAuthorized path=\"/forgot-password\">\n          <RecoverPassword />\n        </ProtectedAuthorized>\n        <ProtectedAuthorized path=\"/reset-password\">\n          <ResetPassword />\n        </ProtectedAuthorized>\n        <ProtectedRoute path=\"/profile\" exact>\n          <Profile />\n        </ProtectedRoute>\n        <ProtectedRoute path=\"/profile/orders\" exact>\n          <Orders handleOpenOrderModal={handleOpenOrderModal} />\n        </ProtectedRoute>\n        <ProtectedRoute path=\"/profile/orders/:id\" exact>\n          <UserOrderPage />\n        </ProtectedRoute>\n        <Route path=\"/feed\" exact>\n          <Feed handleOpenFeedModal={handleOpenFeedModal} />\n        </Route>\n        <Route path=\"/feed/:id\" exact>\n          <FeedOrderPage />\n        </Route>\n        <Route>\n          <NotFoundPage />\n        </Route>\n      </Switch>\n      {background && (\n        <Route\n          path=\"/ingridients/:id\"\n          children={\n            <Modal\n              isOpen={isIngridientModalOpen}\n              handleCloseModal={handleCloseModal}\n            >\n              <IngredientDetails ingridientInfo={ingridientInfo} />\n            </Modal>\n          }\n        />\n      )}\n      {background && (\n        <Route path=\"/feed/:id\">\n          <Modal\n            isOpen={isFeedOrderModalOpen}\n            handleCloseModal={handleCloseModal}\n          >\n            <FeedOrderModal feedOrderData={feedOrderData} />\n          </Modal>\n        </Route>\n      )}\n      {background && (\n        <Route path=\"/profile/orders/:id\">\n          <Modal\n            isOpen={isProfileOrderModalOpen}\n            handleCloseModal={handleCloseModal}\n          >\n            <UserOrderModal userOrderData={userOrderData} />\n          </Modal>\n        </Route>\n      )}\n      <Modal\n        children={OrderDetailsModal}\n        isOpen={isOrderDetailsOpen}\n        handleCloseModal={handleCloseModal}\n      />\n    </>\n  );\n};\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import {\n  GET_BURGER_INGRIDIENTS_REQUEST,\n  GET_BURGER_INGRIDIENTS_SUCCESS,\n  GET_BURGER_INGRIDIENTS_FAILED,\n  GET_BURGER_CONSTRUCTOR_REQUEST,\n  GET_BURGER_CONSTRUCTOR_SUCCESS,\n  GET_BURGER_CONSTRUCTOR_FAILED,\n  GET_BURGER_CONSTRUCTOR_ADD_ITEM,\n  GET_BURGER_CONSTRUCTOR_DELETE_ITEM,\n  MOVE_CONSTRUCTOR_ITEM,\n  POST_SEND_ORDER_REQUEST,\n  POST_SEND_ORDER_SUCCESS,\n  POST_SEND_ORDER_FAILED,\n  COST_TOTAL_PRICE,\n  DELETE_BURGER_CONSTRUCTOR_AFTER_ORDER,\n} from \"../actions/burgerIngridients\";\n\n// Types\nimport {\n  TBurgerIngridients,\n  TBurgerConstructorIngridients,\n  TBurgerIngridientsOrder,\n  TIngridient,\n} from \"../../types/burgerIngridients\";\n// Types\n\n// Union тип\nimport { TburgerIngridientsActions } from \"../actions/burgerIngridients\";\n// Union тип\n\ntype TBurgerIngridientsState = {\n  burgerIngridientsArr: TBurgerIngridients;\n  burgerIngridientsRequest: boolean;\n  burgerIngridientsFailed: boolean;\n\n  burgerConstructorIngridients: TBurgerConstructorIngridients;\n  bun: TIngridient;\n  burgerConstructorIngridientsFailed: boolean;\n  burgerConstructorIngridientsRequest: boolean;\n\n  order?: TBurgerIngridientsOrder;\n  orderRequest: boolean;\n  orderFailed: boolean;\n\n  totalPrice: number;\n};\n\nexport const initialState: TBurgerIngridientsState = {\n  burgerIngridientsArr: [],\n  burgerIngridientsRequest: false,\n  burgerIngridientsFailed: false,\n\n  burgerConstructorIngridients: [],\n  bun: {},\n  burgerConstructorIngridientsFailed: false,\n  burgerConstructorIngridientsRequest: false,\n\n  order: undefined,\n  orderRequest: false,\n  orderFailed: false,\n\n  totalPrice: 0,\n};\n\nexport const burgerIngridientsReducer = (\n  state = initialState,\n  action: TburgerIngridientsActions\n) => {\n  // eslint-disable-next-line default-case\n  switch (action.type) {\n    case GET_BURGER_INGRIDIENTS_REQUEST: {\n      return {\n        ...state,\n        burgerIngridientsRequest: true,\n      };\n    }\n    case GET_BURGER_INGRIDIENTS_SUCCESS: {\n      return {\n        ...state,\n        burgerIngridientsFailed: false,\n        burgerIngridientsArr: action.burgerIngridientsArr,\n        burgerIngridientsRequest: false,\n      };\n    }\n    case GET_BURGER_INGRIDIENTS_FAILED: {\n      return {\n        ...state,\n        burgerIngridientsFailed: true,\n        burgerIngridientsRequest: false,\n      };\n    }\n    case GET_BURGER_CONSTRUCTOR_REQUEST: {\n      return {\n        ...state,\n        burgerConstructorIngridientsRequest: true,\n      };\n    }\n    case GET_BURGER_CONSTRUCTOR_SUCCESS: {\n      return {\n        ...state,\n        burgerConstructorIngridientsFailed: false,\n        burgerConstructorIngridients: action.burgerConstructorIngridients,\n        burgerConstructorIngridientsRequest: false,\n      };\n    }\n    case GET_BURGER_CONSTRUCTOR_FAILED: {\n      return {\n        ...state,\n        burgerConstructorIngridientsFailed: true,\n        burgerConstructorIngridientsRequest: false,\n      };\n    }\n    case GET_BURGER_CONSTRUCTOR_ADD_ITEM: {\n      if (action.ingType === \"bun\") {\n        return {\n          ...state,\n          bun: action.item,\n        };\n      } else {\n        return {\n          ...state,\n          burgerConstructorIngridients: [\n            ...state.burgerConstructorIngridients,\n            ...state.burgerIngridientsArr.filter((item) => {\n              return item._id === action.id;\n            }),\n          ],\n        };\n      }\n    }\n    case GET_BURGER_CONSTRUCTOR_DELETE_ITEM: {\n      if (action.ingType === \"bun\") {\n        return {\n          ...state,\n          bun: state.bun._id === action.id ? {} : state.bun,\n        };\n      }\n      return {\n        ...state,\n        burgerConstructorIngridients: [\n          ...state.burgerConstructorIngridients,\n        ].filter((item, index) => {\n          return index !== action.ingIndex;\n        }),\n      };\n    }\n\n    case MOVE_CONSTRUCTOR_ITEM: {\n      const arr = [...state.burgerConstructorIngridients];\n\n      const dragItem = arr[action.dragIndex];\n      const replacedItem = arr[action.replacedIndex];\n\n      arr[action.replacedIndex] = dragItem;\n      arr[action.dragIndex] = replacedItem;\n\n      return {\n        ...state,\n        burgerConstructorIngridients: arr,\n      };\n    }\n\n    case POST_SEND_ORDER_REQUEST: {\n      return {\n        ...state,\n        orderRequest: true,\n      };\n    }\n    case POST_SEND_ORDER_SUCCESS: {\n      return {\n        ...state,\n        orderRequest: false,\n        orderFailed: false,\n        order: action.order,\n      };\n    }\n    case POST_SEND_ORDER_FAILED: {\n      return {\n        ...state,\n        orderRequest: false,\n        orderFailed: true,\n      };\n    }\n    case COST_TOTAL_PRICE: {\n      const bunPrice = !(Object.keys(state.bun).length === 0)\n        ? state!.bun!.price! * 2\n        : 0;\n\n      const totalPrice = state.burgerConstructorIngridients.reduce(\n        (prev: number, cur: TIngridient) => {\n          return cur.price! + prev;\n        },\n        0\n      );\n\n      return {\n        ...state,\n        totalPrice: totalPrice + bunPrice,\n      };\n    }\n    case DELETE_BURGER_CONSTRUCTOR_AFTER_ORDER: {\n      return {\n        ...state,\n        totalPrice: 0,\n        burgerConstructorIngridients: [],\n        bun: {},\n      };\n    }\n    default: {\n      return state;\n    }\n  }\n};\n","import {\n  USER_REGISTRATION_REQUEST,\n  USER_REGISTRATION_FAILED,\n  USER_REGISTRATION_SUCCES,\n  GET_USER_REQUEST,\n  GET_USER_SUCCES,\n  GET_USER_FAILED,\n  USER_LOGIN_REQUEST,\n  USER_LOGIN_SUCCES,\n  USER_LOGIN_FAILED,\n  TOKEN_CHECK_REQUEST,\n  TOKEN_CHECK_SUCCES,\n  TOKEN_CHECK_FAILED,\n  USER_LOGOUT_REQUEST,\n  USER_LOGOUT_SUCCES,\n  USER_LOGOUT_FAILED,\n  UPDATE_USER_REQUEST,\n  UPDATE_USER_SUCCES,\n  UPDATE_USER_FAILED,\n  FORGOT_PASSWORD_REQUEST,\n  FORGOT_PASSWORD_SUCCES,\n  FORGOT_PASSWORD_FAILED,\n  RESET_PASSWORD_REQUEST,\n  RESET_PASSWORD_SUCCES,\n  RESET_PASSWORD_FAILED,\n} from \"../actions/auth\";\n\n// Допустимые экшены для данного редьюсера\nimport type { TAuthActions } from \"../actions/auth\";\n\n// Типизация\nimport { TUserNameAndEmail } from \"../../types/auth\";\n// Типизация\n\ntype TAuthState = {\n  user: TUserNameAndEmail;\n  registrationRequest: boolean;\n  registratioFailded: boolean;\n\n  loginRequest: boolean;\n  loginFailed: boolean;\n  loginSuccess: boolean;\n\n  getUserRequest: boolean;\n  getUserFailed: boolean;\n\n  tokenRequest: boolean;\n  tokenFailed: boolean;\n\n  logoutRequest: boolean;\n  logoutFailed: boolean;\n\n  updateUserRequest: boolean;\n  updateUserFailed: boolean;\n\n  forgotPasswordRequest: boolean;\n  forgotPasswordFailed: boolean;\n  forgotPasswordSucces: boolean;\n\n  resetPasswordRequest: boolean;\n  resetPasswordFailed: boolean;\n  resetPasswordSucces: boolean;\n};\n\nexport const initialState: TAuthState = {\n  user: {\n    name: \"\",\n    email: \"\",\n  },\n\n  registrationRequest: false,\n  registratioFailded: false,\n\n  loginRequest: false,\n  loginFailed: false,\n  loginSuccess: false,\n\n  getUserRequest: false,\n  getUserFailed: false,\n\n  tokenRequest: false,\n  tokenFailed: false,\n\n  logoutRequest: false,\n  logoutFailed: false,\n\n  updateUserRequest: false,\n  updateUserFailed: false,\n\n  forgotPasswordRequest: false,\n  forgotPasswordFailed: false,\n  forgotPasswordSucces: false,\n\n  resetPasswordRequest: false,\n  resetPasswordFailed: false,\n  resetPasswordSucces: false,\n};\n\nexport const authReducer = (\n  state = initialState,\n  action: TAuthActions\n): TAuthState => {\n  switch (action.type) {\n    case USER_REGISTRATION_REQUEST: {\n      return {\n        ...state,\n        registrationRequest: true,\n        registratioFailded: false,\n      };\n    }\n    case USER_REGISTRATION_FAILED: {\n      return {\n        ...state,\n        registrationRequest: false,\n        registratioFailded: true,\n      };\n    }\n    case USER_REGISTRATION_SUCCES: {\n      localStorage.setItem(\"refreshToken\", action.refreshToken);\n      return {\n        ...state,\n        registrationRequest: false,\n        registratioFailded: false,\n        user: action.user,\n      };\n    }\n    case GET_USER_REQUEST: {\n      return {\n        ...state,\n        getUserRequest: true,\n        getUserFailed: false,\n      };\n    }\n    case GET_USER_FAILED: {\n      return {\n        ...state,\n        getUserRequest: false,\n        getUserFailed: true,\n      };\n    }\n    case GET_USER_SUCCES: {\n      return {\n        ...state,\n        getUserRequest: false,\n        getUserFailed: false,\n        user: action.user,\n      };\n    }\n    case USER_LOGIN_REQUEST: {\n      return {\n        ...state,\n        loginRequest: true,\n        loginFailed: false,\n        loginSuccess: false,\n      };\n    }\n    case USER_LOGIN_FAILED: {\n      return {\n        ...state,\n        loginRequest: false,\n        loginFailed: true,\n        loginSuccess: false,\n      };\n    }\n    case USER_LOGIN_SUCCES: {\n      return {\n        ...state,\n        loginRequest: false,\n        loginFailed: false,\n        loginSuccess: true,\n        user: action.user,\n      };\n    }\n    case TOKEN_CHECK_REQUEST: {\n      return {\n        ...state,\n        tokenRequest: true,\n      };\n    }\n    case TOKEN_CHECK_SUCCES: {\n      return {\n        ...state,\n        tokenFailed: false,\n        tokenRequest: false,\n      };\n    }\n    case TOKEN_CHECK_FAILED: {\n      return {\n        ...state,\n        tokenFailed: true,\n        tokenRequest: false,\n      };\n    }\n    case USER_LOGOUT_REQUEST: {\n      return {\n        ...state,\n        logoutRequest: true,\n        logoutFailed: false,\n      };\n    }\n    case USER_LOGOUT_SUCCES: {\n      localStorage.removeItem(\"refreshToken\");\n      return {\n        ...state,\n        user: {\n          name: \"\",\n          email: \"\",\n        },\n        logoutRequest: false,\n        logoutFailed: false,\n        loginSuccess: false,\n      };\n    }\n    case USER_LOGOUT_FAILED: {\n      return {\n        ...state,\n        logoutRequest: false,\n        logoutFailed: true,\n      };\n    }\n    case UPDATE_USER_REQUEST: {\n      return {\n        ...state,\n        updateUserRequest: true,\n        updateUserFailed: false,\n      };\n    }\n    case UPDATE_USER_SUCCES: {\n      return {\n        ...state,\n        user: action.user,\n        updateUserRequest: false,\n        updateUserFailed: false,\n      };\n    }\n    case UPDATE_USER_FAILED: {\n      return {\n        ...state,\n        updateUserRequest: false,\n        updateUserFailed: true,\n      };\n    }\n    case FORGOT_PASSWORD_REQUEST: {\n      return {\n        ...state,\n        forgotPasswordRequest: true,\n        forgotPasswordFailed: false,\n        forgotPasswordSucces: false,\n      };\n    }\n    case FORGOT_PASSWORD_SUCCES: {\n      return {\n        ...state,\n        forgotPasswordRequest: false,\n        forgotPasswordFailed: false,\n        forgotPasswordSucces: true,\n      };\n    }\n    case FORGOT_PASSWORD_FAILED: {\n      return {\n        ...state,\n        forgotPasswordRequest: false,\n        forgotPasswordFailed: true,\n        forgotPasswordSucces: false,\n      };\n    }\n    case RESET_PASSWORD_REQUEST: {\n      return {\n        ...state,\n        resetPasswordRequest: true,\n        resetPasswordFailed: false,\n        resetPasswordSucces: false,\n      };\n    }\n    case RESET_PASSWORD_SUCCES: {\n      return {\n        ...state,\n        resetPasswordRequest: false,\n        resetPasswordFailed: false,\n        resetPasswordSucces: true,\n      };\n    }\n    case RESET_PASSWORD_FAILED: {\n      return {\n        ...state,\n        resetPasswordRequest: false,\n        resetPasswordFailed: true,\n        resetPasswordSucces: false,\n      };\n    }\n    default: {\n      return state;\n    }\n  }\n};\n","import {\n  WS_CONNECTION_SUCCESS,\n  WS_CONNECTION_ERROR,\n  WS_CONNECTION_CLOSED,\n  WS_GET_MESSAGE,\n  WS_CONNECTION_START,\n  WS_SEND_MESSAGE,\n} from \"../actions/wsActions\";\n\nimport { TWsActions } from \"../actions/wsActions\";\nimport { TFeedData } from \"../../types/feed\";\n\ntype TFeedInitialState = {\n  wsConnected?: boolean;\n  wsError?: any;\n  feedData?: TFeedData;\n};\n\nexport const initialState: TFeedInitialState = {\n  wsConnected: false,\n  wsError: null,\n  feedData: undefined,\n};\n\nexport const feedReducer = (state = initialState, action: TWsActions) => {\n  switch (action.type) {\n    case WS_CONNECTION_START:\n      return {};\n    case WS_CONNECTION_SUCCESS:\n      return {\n        ...state,\n        wsError: null,\n        wsConnected: true,\n      };\n\n    case WS_CONNECTION_ERROR:\n      console.log(action.payload);\n      return {\n        ...state,\n        wsError: action.payload,\n        wsConnected: false,\n      };\n\n    case WS_CONNECTION_CLOSED:\n      return {\n        ...state,\n        wsError: null,\n        wsConnected: false,\n      };\n\n    case WS_GET_MESSAGE:\n      return {\n        ...state,\n        wsError: null,\n        feedData: action.payload,\n      };\n    default:\n      return state;\n  }\n};\n","import {\n  WS_AUTH_CONNECTION_SUCCESS,\n  WS_AUTH_CONNECTION_ERROR,\n  WS_AUTH_CONNECTION_CLOSED,\n  WS_AUTH_GET_MESSAGE,\n  WS_AUTH_CONNECTION_START,\n  WS_AUTH_SEND_MESSAGE,\n} from \"../actions/wsActions\";\n\nimport { TWsActions } from \"../actions/wsActions\";\nimport { TUserOrders } from \"../../types/userOrders\";\n\ntype TUserOrdersInitialState = {\n  wsConnected?: boolean;\n  wsError?: null | any;\n  ordersData?: TUserOrders;\n};\n\nexport const initialState: TUserOrdersInitialState = {\n  wsConnected: false,\n  wsError: null,\n  ordersData: undefined,\n};\n\nexport const userOrdersReducer = (state = initialState, action: TWsActions) => {\n  switch (action.type) {\n    case WS_AUTH_CONNECTION_START:\n      return {};\n    case WS_AUTH_CONNECTION_SUCCESS:\n      return {\n        ...state,\n        wsError: null,\n        wsConnected: true,\n      };\n\n    case WS_AUTH_CONNECTION_ERROR:\n      return {\n        ...state,\n        wsError: action.payload,\n        wsConnected: false,\n      };\n\n    case WS_AUTH_CONNECTION_CLOSED:\n      return {\n        ...state,\n        wsError: null,\n        wsConnected: false,\n      };\n\n    case WS_AUTH_GET_MESSAGE:\n      return {\n        ...state,\n        wsError: null,\n        ordersData: action.payload,\n      };\n    default:\n      return state;\n  }\n};\n","import { combineReducers } from \"redux\";\n\nimport { burgerIngridientsReducer } from \"./burgerIngridients\";\nimport { authReducer } from \"./auth\";\nimport { feedReducer } from \"./feed\";\nimport { userOrdersReducer } from \"./userOrders\";\n\nexport const rootReducer = combineReducers({\n  burgerIngridients: burgerIngridientsReducer,\n  authUser: authReducer,\n  feed: feedReducer,\n  userOrders: userOrdersReducer,\n});\n","import { rootReducer } from \"./reducers/index\";\nimport { compose, createStore, applyMiddleware } from \"redux\";\nimport thunk from \"redux-thunk\";\n\nimport { socketMiddleware } from \"./middleware/SocketMiddleware\";\nimport { socketMiddlewareAuth } from \"./middleware/socketMiddlewareAuth\";\n\n// Constants\nimport { WSS_NOMOREPARTIES } from \"../utils/constants\";\n// Constants\n\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\n\nconst enhancer = composeEnhancers(\n  applyMiddleware(\n    socketMiddleware(`${WSS_NOMOREPARTIES}/orders/all`),\n    socketMiddlewareAuth(`${WSS_NOMOREPARTIES}/orders`),\n    thunk\n  )\n);\n\nexport const store = createStore(rootReducer, enhancer);\n","import { getCookie, setCookie } from \"../../utils/cookie\";\nimport { Middleware } from \"redux\";\n\nimport {\n  WS_AUTH_CONNECTION_CLOSED,\n  WS_AUTH_CONNECTION_ERROR,\n  WS_AUTH_CONNECTION_START,\n  WS_AUTH_CONNECTION_SUCCESS,\n  WS_AUTH_GET_MESSAGE,\n  WS_AUTH_SEND_MESSAGE,\n} from \"../actions/wsActions\";\n\nimport tokenCheck from \"../../utils/tokenCheck\";\n\nexport const socketMiddlewareAuth = (wsUrl: string): Middleware => {\n  return (store) => {\n    let socket: WebSocket | null = null;\n\n    return (next) => (action) => {\n      const { dispatch } = store;\n      const { type, payload } = action;\n      const accessToken = getCookie(\"accessToken\");\n\n      if (type === WS_AUTH_CONNECTION_START) {\n        socket = new WebSocket(`${wsUrl}?token=${accessToken}`);\n      }\n      if (socket) {\n        socket.onopen = (event) => {\n          dispatch({ type: WS_AUTH_CONNECTION_SUCCESS, payload: event });\n        };\n\n        socket.onerror = (event) => {\n          dispatch({ type: WS_AUTH_CONNECTION_ERROR, payload: event });\n        };\n\n        socket.onmessage = (event) => {\n          const { data } = event;\n\n          const parsedData = JSON.parse(data);\n          const { success, ...restParsedData } = parsedData;\n\n          if (\n            parsedData.message &&\n            parsedData.message === \"Invalid or missing token\"\n          ) {\n            const refreshToken = localStorage.getItem(\"refreshToken\");\n\n            tokenCheck(refreshToken).then((res) => {\n              setCookie(\"accessToken\", res.accessToken);\n              localStorage.setItem(\"refreshToken\", res.refreshToken);\n\n              dispatch({ type: WS_AUTH_CONNECTION_START });\n            });\n          }\n\n          dispatch({ type: WS_AUTH_GET_MESSAGE, payload: restParsedData });\n        };\n\n        socket.onclose = (event) => {\n          dispatch({ type: WS_AUTH_CONNECTION_CLOSED, payload: event });\n        };\n\n        if (type === WS_AUTH_SEND_MESSAGE) {\n          const message = { ...payload };\n          socket.send(JSON.stringify(message));\n        }\n      }\n\n      next(action);\n    };\n  };\n};\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { BrowserRouter } from \"react-router-dom\";\n\nimport { compose } from \"redux\";\nimport { Provider } from \"react-redux\";\n\nimport \"./index.css\";\nimport App from \"./components/App/App\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nimport { store } from \"./services/store\";\n\ndeclare global {\n  interface Window {\n    __REDUX_DEVTOOLS_EXTENSION_COMPOSE__?: typeof compose;\n  }\n}\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <Provider store={store}>\n        <App />\n      </Provider>\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"burger_ingridients\":\"BurgerIngredients_burger_ingridients__3Olqh\",\"parts_box\":\"BurgerIngredients_parts_box__BIt36\",\"title\":\"BurgerIngredients_title__3LHDD\",\"parts_container\":\"BurgerIngredients_parts_container__3dKw5\",\"tabs\":\"BurgerIngredients_tabs__K7cI3\",\"parts_title_no_margin\":\"BurgerIngredients_parts_title_no_margin__2IQWY\",\"parts_shell\":\"BurgerIngredients_parts_shell__2wScz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"link\":\"OrderCard_link__3w2KU\",\"card\":\"OrderCard_card__4_Gyl\",\"box\":\"OrderCard_box__3MNch\",\"time\":\"OrderCard_time__lzGIh\",\"burger_info\":\"OrderCard_burger_info__3kRkx\",\"images_list\":\"OrderCard_images_list__3EiTE\",\"image_li\":\"OrderCard_image_li__mDrfP\",\"image\":\"OrderCard_image__1lQYb\",\"price_box\":\"OrderCard_price_box__35nll\",\"price\":\"OrderCard_price__2wr83\",\"code\":\"OrderCard_code__3gokV\",\"name\":\"OrderCard_name__2Wmz6\",\"status\":\"OrderCard_status__2rhvU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"sign_in\":\"SignIn_sign_in__FnFkc\",\"container\":\"SignIn_container__1JjIu\",\"form\":\"SignIn_form__1_Db5\",\"fieldset\":\"SignIn_fieldset__2ZTGO\",\"signup_box\":\"SignIn_signup_box__1JY9n\",\"recover_box\":\"SignIn_recover_box__l-6Kd SignIn_signup_box__1JY9n\",\"signup_text\":\"SignIn_signup_text__28Oky\",\"link\":\"SignIn_link__3d0ft\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"sign_up\":\"SignUp_sign_up__3eh6S\",\"container\":\"SignUp_container__31A6D\",\"form\":\"SignUp_form__1ujMt\",\"fieldset\":\"SignUp_fieldset__3NmI4\",\"signup_box\":\"SignUp_signup_box__7VTXg\",\"recover_box\":\"SignUp_recover_box__1ZGPn SignUp_signup_box__7VTXg\",\"signup_text\":\"SignUp_signup_text__jsFQJ\",\"link\":\"SignUp_link__1N9GC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"reset\":\"ResetPassword_reset__39cms\",\"container\":\"ResetPassword_container__2TO5y\",\"form\":\"ResetPassword_form__1K8Es\",\"fieldset\":\"ResetPassword_fieldset__3GrLP\",\"signup_box\":\"ResetPassword_signup_box__6HvAZ\",\"recover_box\":\"ResetPassword_recover_box__RUMBG ResetPassword_signup_box__6HvAZ\",\"signup_text\":\"ResetPassword_signup_text__3KLHk\",\"link\":\"ResetPassword_link__3x_0E\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"route_box\":\"RouteBox_route_box__18FxR\",\"link\":\"RouteBox_link__2OEoQ\",\"link_active\":\"RouteBox_link_active__3AGLF\",\"text\":\"RouteBox_text__qpLc4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"recover\":\"RecoverPassword_recover__1oGbg\",\"container\":\"RecoverPassword_container__i8SJ6\",\"form\":\"RecoverPassword_form__1n3Kl\",\"fieldset\":\"RecoverPassword_fieldset__wpd2R\",\"signup_box\":\"RecoverPassword_signup_box__1_PW3\",\"recover_box\":\"RecoverPassword_recover_box__3b8sK RecoverPassword_signup_box__1_PW3\",\"signup_text\":\"RecoverPassword_signup_text__3Ca8T\",\"link\":\"RecoverPassword_link__f2Gin\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profile\":\"Profile_profile__1GJ1l\",\"container\":\"Profile_container__1J-2Z\",\"fieldset\":\"Profile_fieldset__r-Kr9\",\"buttons\":\"Profile_buttons__1V4Sk\",\"buttons_hide\":\"Profile_buttons_hide__16eNQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"order\":\"OrderDetails_order__2J7Ew\",\"number\":\"OrderDetails_number__1fUGK\",\"id\":\"OrderDetails_id__Vy6ez\",\"notification\":\"OrderDetails_notification__1SAbG\",\"message\":\"OrderDetails_message__1zv_-\",\"message_wait\":\"OrderDetails_message_wait__3MqfS\",\"loading\":\"OrderDetails_loading__3QpQf\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"burger_constructor\":\"BurgerConstructor_burger_constructor__2LiuM\",\"general_price\":\"BurgerConstructor_general_price__31vvD\",\"price\":\"BurgerConstructor_price__P0f6H\",\"elements_container\":\"BurgerConstructor_elements_container__3qNQx\",\"box\":\"BurgerConstructor_box__17e2a\",\"constructor-element__row\":\"BurgerConstructor_constructor-element__row__d2ohv\",\"first_card\":\"BurgerConstructor_first_card__1HYX4\",\"last_card\":\"BurgerConstructor_last_card__10Xfv\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"modal\":\"Modal_modal__XBB_o\",\"modal_hidden\":\"Modal_modal_hidden__3zZEb\",\"modal_wrapper\":\"Modal_modal_wrapper__2sfBS\",\"header\":\"Modal_header__wTniz\",\"title\":\"Modal_title__1S0aZ\",\"closeButton\":\"Modal_closeButton__3o6LY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"Card_card__2mFjH\",\"price_box\":\"Card_price_box__2motv\",\"price\":\"Card_price__hWsmx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"not_found\":\"NotFoundPage_not_found__3b_kA\",\"go_back\":\"NotFoundPage_go_back__BBc0f\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"orders\":\"Orders_orders__3uNIZ\",\"container\":\"Orders_container__2Zpx1\"};"],"sourceRoot":""}